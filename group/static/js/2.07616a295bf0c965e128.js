webpackJsonp([2],{E0sP:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAACt0lEQVRIS8WW0VHbQBCGv9WEvFqqANMBVBDTgVMBpgLMYxAZNBMUHmMqiKkAdxBTQUwFOBVYPBO0mTsLjSzfybInM+jJlu7u293b/XeFd3rknbjsDH6+ZoygnZjTXYzfGrxICOUj9yhHBfBJXziOErJtDNgKvPhGTwIL/aPCgIBMXpkg7KtwGl0waQtvBV7c0A1yrhQGArf5C0nVw+eUkcIZMNGA8+gL800GNIIXKYcBnBkgyqMqw+grU9ehZq3ACPgkMM7hNoqZ+QxYAZvNKPtBQE+VHtj/jyqMopjxJi/M9+I6EmMAMBdhkudMzbVEFzy8nbECzlLrjdnwoNjF4zZhc0bghi6v9EXoFw7Mw0sOvWCBWSdm2Ma7tmsWKYlAL4xtFO2z4vFzykQhrC5oe3jTOlPzKnS9YJdl/wNsrrAeydXkumYowlUYE+0KdHmXpcwVxlGMSbr1UBcZ+SuMd5PSAtpX6FVLKUtRFT5XBWbV4xu6kvOkOce+evVFwgct6vu3wlHVmDUByVIyVZLo0oqBfRbf6aOEvlr2Qe3e1Krdz3oU18Ams82GTmzrrwSLcq9wWocXCWnkdO2b2Vx0sbB63lo5NVn4ZnkV4HpXvwpXBN1g0/b2bBYOHd7ZsBl4sdn+9l1BaVjAQV0BnU2iCN9JGHNQ9+DtMPO+CWq+mzISZdq5ZFA/xw1u8LpMNqCp/zZ56wx1mVBLfT3TgKNtG4WdUvZ4Erjz6X5jP86umZm5KozLMaeVoNkup4T6l55vJGoeBJaCMhO4bzvUNdV01eqNo08hoxMDz184bxrqKtC1imiVXI5MNmONGRKMnJ7X5bQw7gdwUNdp391s9LhMtoQw+MBIhROEqeZLSZWAIcsx6UEDBm0TsTW4NMBMnK8k1gADVu7y5UzmHexcXm8NbpXWLRa9G/gfgUZHLnttUdoAAAAASUVORK5CYII="},IHG3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABMklEQVRIS+2XsUrDUBSGv9NUnEoj+BTWTaHdrJMOvovgmKCtSjIKvouDTtatBd2sTyGY4iQ2PXKhkTRNHJIMDvdul8O5H/dwzs9/hMx5v6K74XCr0M3GytwFJt8xp9sXTNL5kr58huzEyhR40QV3ZUDZHGlwAuw5Qqfl8ZbEV8BRwD3CputxWAc0eSMKeUT5cn2Oi8CqCy63zhnWCf64ZigNBq7P70ezP7bgWipuS23KaJvLjpMdp1IVsAJiBYQo4H8KyCzkVZVOXmuLMG177ObFKnV1kvzXPBXZpkpgA1yatn4uXBgVmcTK4FLqAVjwmoDMAsYKTddnv2xZ8/KigGeBedunl2vozd7UdBgjjDTmqQ64OByg9OcxvfT+tOK5DGi5P90AR3WAgQdHOEvvTebdHyAwHS6AGOUuAAAAAElFTkSuQmCC"},LYXx:function(e,t){},YOV7:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n=s("fxnj"),r=s.n(n),o=void 0,c={data:function(){return{zzshow:!1,ruleId:this.$route.query.ruleId,productType:this.$route.query.productType,name:this.$route.query.name,price:this.$route.query.price,oriPrice:this.$route.query.oriPrice,pictures:this.$route.query.pictures,shareCode:this.$route.query.shareCode,tel:"",yzm:"",yzmtime:60,yzmstr:"获取验证码",isOriginHei:!0,screenHeight:document.documentElement.clientHeight,originHeight:document.documentElement.clientHeight}},created:function(){o=this},components:{},computed:{},mounted:function(){window.onresize=function(){o.screenHeight=document.documentElement.clientHeight}},watch:{screenHeight:function(e){this.originHeight>e+100?this.isOriginHei=!1:this.isOriginHei=!0}},methods:{getCaptcha:function(){/^1[3-9][0-9]\d{8}$/.test(o.tel)?"获取验证码"!=o.yzmstr&&"重新获取"!=o.yzmstr||(o.yzmstr="获取中",o.yzmreq()):alert("请输入正确的手机号")},yzmreq:function(){var e={mobile:o.tel,type:"103"};o.common.invokeApi("POST","getyzm",e,function(e){e.setRequestHeader("Access-Control-Allow-Token",void 0)},function(e){o.yzmtime=60,alert(e.result);var t=setInterval(function(){o.yzmstr=o.yzmtime+"秒后重新获取",o.yzmtime--,o.yzmtime<=0&&(o.yzmstr="重新获取")},1e3);setTimeout(function(){clearInterval(t)},61e3)},function(e){alert(null==e.message?"获取验证码失败":e.message)})},btnpay:function(){o.zzshow=!0;var e={ruleId:o.ruleId,productType:o.productType,mobile:o.tel,code:o.yzm,shareCode:o.shareCode};o.receiveData.postData(o,"/promotionPay",e,"res",function(){if(o.res.success){var e=o.res;r.a.config({debug:!1,appId:e.result.appId,timestamp:e.result.timestamp,nonceStr:e.result.nonceStr,signature:e.result.signature,jsApiList:["chooseWXPay"]}),r.a.chooseWXPay({appId:e.result.appId,timestamp:e.result.timestamp,nonceStr:e.result.nonceStr,package:e.result.pkgStr,signType:e.result.signType,paySign:e.result.signature,success:function(e){o.zzshow=!1,o.$router.push({path:"/sassuccess"})},fail:function(e){o.zzshow=!1,console.log(a()(e))},cancel:function(e){o.zzshow=!1,alert("支付取消")}})}else o.zzshow=!1,alert(o.res.message)})}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cardrollgoods"},[i("div",{staticStyle:{background:"white",height:"15px",width:"100%"}},[e._v(" ")]),e._v(" "),i("div",{staticClass:"addr-top"},[e._v(" ")]),e._v(" "),i("div",{staticClass:"goods-warp"},[i("div",{staticClass:"centrent"},[i("div",{staticClass:"ov"},[i("img",{staticClass:"icon-goods fl",attrs:{src:e.pictures}}),e._v(" "),i("div",{staticClass:"ov sale-name"},[i("span",{staticClass:"nowrap"},[e._v(e._s(e.name))]),i("br"),e._v(" "),i("span",{staticClass:"color"},[e._v("¥"+e._s(e.price))]),e._v(" "),i("del",[e._v(e._s(e.oriPrice))])])])])]),e._v(" "),i("div",{staticClass:"addr-f"},[e._v(" ")]),e._v(" "),i("div",{staticClass:"goods-warps"},[i("div",[i("div",{staticClass:"region"},[i("img",{staticClass:"seleimg1",attrs:{src:s("IHG3"),alt:""}}),e._v(" "),i("span",{staticClass:" szym "},[e._v("手机号")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.tel,expression:"tel"}],attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:e.tel},on:{input:function(t){t.target.composing||(e.tel=t.target.value)}}}),e._v(" "),i("span",{staticClass:"yzz",on:{click:e.getCaptcha}},[e._v(e._s(e.yzmstr))])]),e._v(" "),i("div",{staticClass:"region"},[i("img",{staticClass:"seleimg1",attrs:{src:s("E0sP"),alt:""}}),e._v(" "),i("span",{staticClass:"szym"},[e._v("验证码")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.yzm,expression:"yzm"}],staticClass:"yzm",attrs:{type:"number",oninput:"if(value.length>6)value=value.slice(0,6)",placeholder:"请输入验证码"},domProps:{value:e.yzm},on:{input:function(t){t.target.composing||(e.yzm=t.target.value)}}})])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isOriginHei,expression:"isOriginHei"}],staticClass:"btn",on:{click:e.btnpay}},[e._v("\n        立即支付\n    ")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.zzshow,expression:"zzshow"}],staticClass:"zzmb",attrs:{id:"zzmb"}})])},staticRenderFns:[]};var u=s("VU/8")(c,l,!1,function(e){s("LYXx")},"data-v-77edb30a",null);t.default=u.exports}});