{"version":3,"sources":["webpack:///src/pages/index/onsaledetail.vue","webpack:///./src/pages/index/onsaledetail.vue?06ef","webpack:///./src/pages/index/onsaledetail.vue"],"names":["vm","onsaledetail","data","finished","showDetail","left","days","hours","minitus","seconds","product","pictureList","rule","currentNum","collocation","collproducts","ruleId","this","$route","query","swiperOption","notNextTick","autoplay","disableOnInteraction","delay","loop","pagination","el","swiperOption1","slidesPerView","created","collocations","mounted","common","checkRegisterStatus","url","location","href","split","receiveData","wxconfig","weixin_js_sdk_default","a","updated","methods","getData","Data","success","result","productss","productId","setInterval","updateLeftTime","alert","message","res","initShareConfig","name","basePageUrl","smallPicture","products","leftSeconds","iRemain","parseInt","toggleDetail","gotoCollocation","$router","push","path","collId","id","gotoDetail","reload","goclassify","window","buy","components","swiper","vue_awesome_swiper","swiperSlide","computed","index_onsaledetail","render","_vm","_h","$createElement","_c","_self","staticClass","length","ref","attrs","options","_l","picture","index","key","src","alt","_v","slot","_e","_s","staticStyle","width","height","price","padding-top","discount","postageFee","oriPrice","canSaleNum","freeShippingNum","productType","directives","rawName","value","undefined","expression","padding-left","on","click","$event","title","margin-top","salePlanId","productPic","class","topIcon","domProps","innerHTML","serviceDesc","serviceDescMore","margin-bottom","display","color","position","z-index","bottom","line-height","background-color","text-align","font-size","ms-class-useless","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"0IAoGAA,OAAA,EAGAC,GACAC,KADA,WAEA,OACAC,UAAA,EACAC,YAAA,EACAC,MACAC,KAAA,IACAC,MAAA,IACAC,QAAA,IACAC,QAAA,KAEAC,SACAC,gBAEAC,MACAC,WAAA,GAEAC,eACAC,gBACAC,OAAAC,KAAAC,OAAAC,MAAAH,OACAI,cACAC,aAAA,EAEAC,UACAC,sBAAA,EACAC,MAAA,KAEAC,MAAA,EACAC,YACAC,GAAA,uBAGAC,eACAC,cAAA,EAEAR,aAAA,EAEAI,MAAA,EAEAH,UACAC,sBAAA,EACAC,MAAA,KAEAE,YACAC,GAAA,yBAOAG,QAnDA,YAoDA9B,EAAAiB,MACAE,QACAnB,EAAA+B,gBAEAC,QAxDA,WAyDAf,KAAAgB,OAAAC,sBACA,IAAAC,EAAAC,SAAAC,KAAAC,MAAA,QACAtC,EAAAuC,YAAAC,SAAAxC,EAAAyC,EAAAC,GAAA,+CAAAP,IAEAQ,QA7DA,aAiEAC,SACAzB,MADA,WAEA,IAAAgB,EAAA,iBAAAnC,EAAAgB,OACAhB,EAAAuC,YAAAM,QAAA7C,EAAAmC,EAAA,kBACAnC,EAAA8C,KAAAC,QACA/C,EAAA8C,KAAAE,SACAhD,EAAAY,KAAAZ,EAAA8C,KAAAE,OACAhD,EAAAiD,UAAAjD,EAAAY,KAAAsC,WACAC,YAAAnD,EAAAoD,eAAA,MAGAC,MAAA,MAAArD,EAAA8C,KAAAQ,QAAA,YAAAtD,EAAA8C,KAAAQ,YAIAL,UAfA,SAeAC,GACA,IAAAf,EAAA,cAAAe,EACAlD,EAAAuC,YAAAM,QAAA7C,EAAAmC,EAAA,iBACAnC,EAAAuD,IAAAR,SACA/C,EAAAU,QAAAV,EAAAuD,IAAAP,OACAhD,EAAAiC,OAAAuB,gBAAAxD,EAAAY,KAAA6C,KAAAzD,EAAA0D,YAAA,kDAAA1D,EAAAgB,OAAAhB,EAAAU,QAAAiD,aAAA,mBAAAlB,EAAAC,IAEAW,MAAA,MAAArD,EAAAuD,IAAAD,QAAA,YAAAtD,EAAAuD,IAAAD,YAIAvB,aA1BA,WA2BA,IAAAI,EAAA,iBAAAnC,EAAAgB,OACAhB,EAAAuC,YAAAM,QAAA7C,EAAAmC,EAAA,iBACAnC,EAAAuD,IAAAR,UACA/C,EAAAc,YAAAd,EAAAuD,IAAAP,OACAhD,EAAAe,aAAAf,EAAAuD,IAAAP,OAAAY,aAKAR,eApCA,WAqCA,GAAApD,EAAAY,KAAAiD,YAAA,GACA7D,EAAAG,UAAA,EACAH,EAAAY,KAAAiD,YAAA7D,EAAAY,KAAAiD,YAAA,EACA,IAAAC,EAAA9D,EAAAY,KAAAiD,YACAvD,EAAAyD,SAAAD,EAAA,OACA9D,EAAAK,KAAAC,OAAA,OAAAA,IACAwD,GAAA,MAEA,IAAAvD,EAAAwD,SAAAD,EAAA,MACA9D,EAAAK,KAAAE,QAAA,OAAAA,IACAuD,GAAA,KAEA,IAAAtD,EAAAuD,SAAAD,EAAA,IACA9D,EAAAK,KAAAG,UAAA,OAAAA,IACAsD,GAAA,GAEA9D,EAAAK,KAAAI,QAAAqD,EAAA,OAAAA,SAEA9D,EAAAG,UAAA,GAGA6D,aA1DA,WA2DAhE,EAAAI,YAAAJ,EAAAI,YAGA6D,gBA9DA,WA+DAjE,EAAAkE,QAAAC,MAAAC,KAAA,eAAAjD,OAAAkD,OAAArE,EAAAc,YAAAwD,GAAAtD,OAAAhB,EAAAgB,WAGAuD,WAlEA,SAkEAvD,GACAhB,EAAAkE,QAAAC,MAAAC,KAAA,gBAAAjD,OAAAH,YACAoB,SAAAoC,UAGAC,WAvEA,WAyEAC,OAAAtC,SAAAC,KAAArC,EAAA0D,YAAA,gCAGAiB,IA5EA,WA6EA3E,EAAAY,KAAA0D,KAEAlC,SAAAC,KAAArC,EAAA0D,YAAA,oCAAA1D,EAAAY,KAAA0D,MAIAM,YACAC,OAAAC,EAAA,OACAC,YAAAD,EAAA,aAEAE,aC5PeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAlE,KAAamE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBF,EAAA,OAAAH,EAAAzE,QAAAC,YAAA8E,OAAA,EAAAH,EAAA,UAA4DI,IAAA,WAAAC,OAAsBC,QAAAT,EAAA/D,gBAA4B+D,EAAAU,GAAAV,EAAAzE,QAAA,qBAAAoF,EAAAC,GAA2D,OAAAT,EAAA,gBAA0BU,IAAAD,IAAUT,EAAA,OAAYE,YAAA,SAAmBF,EAAA,OAAYK,OAAOM,IAAAH,EAAAI,IAAA,YAA8Bf,EAAAgB,GAAA,KAAAb,EAAA,OAAwBE,YAAA,oBAAAG,OAAuCS,KAAA,cAAoBA,KAAA,gBAAmB,GAAAjB,EAAAkB,MAAA,GAAAlB,EAAAgB,GAAA,KAAAb,EAAA,OAAyCE,YAAA,qBAA+BF,EAAA,OAAYE,YAAA,6BAAuCL,EAAAgB,GAAAhB,EAAAmB,GAAAnB,EAAAvE,KAAA6C,SAAA0B,EAAAgB,GAAA,KAAAb,EAAA,OAAwDiB,aAAaC,MAAA,OAAAC,OAAA,UAAgCnB,EAAA,OAAYE,YAAA,gCAA0CL,EAAAgB,GAAA,KAAAhB,EAAAmB,GAAAnB,EAAAvE,KAAA8F,OAAA,OAAAvB,EAAAgB,GAAA,KAAAb,EAAA,OAAkEE,YAAA,8BAAAe,aAAuDI,cAAA,SAAqBxB,EAAAgB,GAAAhB,EAAAmB,GAAAnB,EAAAvE,KAAAgG,UAAA,OAAAzB,EAAAgB,GAAA,KAAAb,EAAA,OAAgEE,YAAA,uBAAAe,aAAgDI,cAAA,SAAqBxB,EAAAgB,GAAA,QAAAb,EAAA,QAA4BE,YAAA,cAAwBL,EAAAgB,GAAA,IAAAhB,EAAAmB,GAAAnB,EAAAvE,KAAAiG,mBAAA1B,EAAAgB,GAAA,KAAAb,EAAA,OAAsEiB,aAAaC,MAAA,OAAAC,OAAA,UAAgCnB,EAAA,OAAYE,YAAA,4BAAsCL,EAAAgB,GAAA,OAAAb,EAAA,OAAAH,EAAAgB,GAAA,KAAAhB,EAAAmB,GAAAnB,EAAAzE,QAAAoG,eAAA3B,EAAAgB,GAAA,KAAAb,EAAA,OAA8FE,YAAA,4BAAsCL,EAAAgB,GAAA,MAAAb,EAAA,QAA0BE,YAAA,cAAwBL,EAAAgB,GAAAhB,EAAAmB,GAAAnB,EAAAzE,QAAAqG,eAAA5B,EAAAgB,GAAA,OAAAhB,EAAAgB,GAAA,KAAAhB,EAAAvE,KAAAoG,gBAAA,IAAA1B,EAAA,OAA8GE,YAAA,yBAAmCF,EAAA,QAAaE,YAAA,cAAwBL,EAAAgB,GAAAhB,EAAAmB,GAAAnB,EAAAvE,KAAAoG,oBAAA7B,EAAAgB,GAAA,SAAAhB,EAAAkB,OAAAlB,EAAAgB,GAAA,KAAAb,EAAA,OAA8FiB,aAAaC,MAAA,OAAAC,OAAA,SAA+BtB,EAAAgB,GAAA,SAAAhB,EAAAgB,GAAA,QAAAhB,EAAAvE,KAAAqG,YAAA3B,EAAA,OAAAH,EAAAhF,SAAurBgF,EAAAkB,KAAvrBf,EAAA,OAA4FE,YAAA,sBAAgCF,EAAA,QAAaE,YAAA,cAAwBL,EAAAgB,GAAA,QAAAhB,EAAAgB,GAAA,WAAAhB,EAAA9E,KAAAC,KAAAgF,EAAA,QAAAA,EAAA,QAAyEE,YAAA,gBAA0BL,EAAAgB,GAAAhB,EAAAmB,GAAAnB,EAAA9E,KAAAC,SAAA6E,EAAAgB,GAAA,OAAAhB,EAAAkB,KAAAlB,EAAAgB,GAAA,KAAAb,EAAA,QAAgFE,YAAA,gBAA0BL,EAAAgB,GAAAhB,EAAAmB,GAAAnB,EAAA9E,KAAAE,UAAA+E,EAAA,QAAAH,EAAAgB,GAAA,OAAAhB,EAAAgB,GAAA,KAAAb,EAAA,QAAmFE,YAAA,gBAA0BL,EAAAgB,GAAAhB,EAAAmB,GAAAnB,EAAA9E,KAAAG,YAAA8E,EAAA,QAAAH,EAAAgB,GAAA,OAAAhB,EAAAgB,GAAA,KAAAb,EAAA,QAAAA,EAAA,QAAgGE,YAAA,gBAA0BL,EAAAgB,GAAAhB,EAAAmB,GAAAnB,EAAA9E,KAAAI,YAAA0E,EAAAgB,GAAA,OAAAhB,EAAAgB,GAAA,KAAAb,EAAA,QAA0EE,YAAA,cAAwBL,EAAAgB,GAAA,UAAAhB,EAAAgB,GAAA,KAAAhB,EAAA,SAAAG,EAAA,OAAiEE,YAAA,4BAAsCL,EAAAgB,GAAA,yCAAAhB,EAAAkB,OAAAlB,EAAAkB,KAAAlB,EAAAgB,GAAA,KAAAb,EAAA,OAA4F4B,aAAazD,KAAA,OAAA0D,QAAA,SAAAC,WAAAC,GAAAlC,EAAArE,YAAAwD,IAAA,MAAAa,EAAArE,YAAAwD,GAAAgD,WAAA,oDAA0J9B,YAAA,sBAAkCF,EAAA,OAAYE,YAAA,gBAAAe,aAAyCgB,eAAA,MAAAZ,cAAA,OAAyCa,IAAKC,MAAA,SAAAC,GAAyBvC,EAAAlB,sBAAwBkB,EAAAgB,GAAA,sBAAAb,EAAA,QAA0CE,YAAA,qBAA+BL,EAAAgB,GAAAhB,EAAAmB,GAAAnB,EAAArE,YAAA6G,UAAAxC,EAAAgB,GAAA,KAAAb,EAAA,KAA8DE,YAAA,gCAAAe,aAAyDqB,aAAA,UAAqBzC,EAAAgB,GAAA,KAAAb,EAAA,QAAyBE,YAAA,OAAiBL,EAAAgB,GAAA,YAAAhB,EAAAgB,GAAA,KAAAb,EAAA,OAAAH,EAAApE,aAAA0E,OAAA,EAAAH,EAAA,UAAoFI,IAAA,WAAAC,OAAsBC,QAAAT,EAAAvD,gBAA6BuD,EAAAU,GAAAV,EAAA,sBAAAW,EAAAC,GAAmD,OAAAT,EAAA,gBAA0BU,IAAAD,IAAUT,EAAA,OAAYE,YAAA,OAAAgC,IAAuBC,MAAA,SAAAC,GAAyBvC,EAAAZ,WAAAuB,EAAA+B,gBAAqCvC,EAAA,OAAYK,OAAOM,IAAAH,EAAAgC,WAAA5B,IAAA,MAAmCf,EAAAgB,GAAA,KAAAb,EAAA,OAAwBE,YAAA,UAAoBL,EAAAgB,GAAA,IAAAhB,EAAAmB,GAAAR,EAAAY,OAAA,aAA8C,GAAAvB,EAAAkB,MAAA,KAAAlB,EAAAgB,GAAA,KAAAb,EAAA,OAA0CE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,gBAAAe,aAAyCgB,eAAA,MAAAZ,cAAA,OAAyCa,IAAKC,MAAAtC,EAAAnB,gBAA0BmB,EAAAgB,GAAA,4CAAAb,EAAA,KAA6DE,YAAA,gCAAAuC,OAAmDC,QAAA7C,EAAA/E,gBAAwB+E,EAAAgB,GAAA,KAAAb,EAAA,MAAyBiB,aAAaI,cAAA,SAAqBrB,EAAA,MAAWE,YAAA,cAAAyC,UAAoCC,UAAA/C,EAAAmB,GAAAnB,EAAAzE,QAAAyH,kBAA6ChD,EAAAgB,GAAA,KAAAhB,EAAA,WAAAG,EAAA,MAA0CiB,aAAaI,cAAA,SAAqBrB,EAAA,MAAWE,YAAA,cAAAyC,UAAoCC,UAAA/C,EAAAmB,GAAAnB,EAAAzE,QAAA0H,sBAAiDjD,EAAAkB,OAAAlB,EAAAgB,GAAA,KAAAb,EAAA,OAAqCE,YAAA,oBAAAe,aAA6C8B,gBAAA,OAAAC,QAAA,WAA0ChD,EAAA,QAAaE,YAAA,WAAAgC,IAA2BC,MAAA,SAAAC,GAAyBvC,EAAAV,iBAAmBU,EAAAgB,GAAA,gBAAAhB,EAAAgB,GAAA,KAAAb,EAAA,OAA+CE,YAAA,iBAAAe,aAA0CgC,MAAA,QAAAC,SAAA,QAAAC,UAAA,QAAAjC,MAAA,OAAAkC,OAAA,SAAoFpD,EAAA,QAAaE,YAAA,KAAAe,aAA8BE,OAAA,OAAAkC,cAAA,OAAAnC,MAAA,MAAAoC,mBAAA,OAAAC,aAAA,SAAAC,YAAA,QAAsHtB,IAAKC,MAAA,SAAAC,GAAyBvC,EAAAV,iBAAmBU,EAAAgB,GAAA,0CAAAhB,EAAAgB,GAAA,KAAAb,EAAA,QAA0EE,YAAA,KAAAe,aAA8BE,OAAA,OAAAkC,cAAA,OAAAnC,MAAA,MAAAoC,mBAAA,UAAAC,aAAA,SAAAC,YAAA,QAAyHnD,OAAQoD,mBAAA,wBAA0CvB,IAAKC,MAAAtC,EAAAR,OAAiBQ,EAAAgB,GAAA,+CAEnpK6C,oBCEjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACElJ,EACAgF,GATF,EAXA,SAAAmE,GACEF,EAAQ,QACRA,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/2.590ca7cbdd0e784e928a.js","sourcesContent":["<template>\r\n   <div class=\"controller\">\r\n       \r\n        <!-- 轮播图 -->\r\n        <div>\r\n            <swiper v-if=\"product.pictureList.length>0\" :options=\"swiperOption\" ref=\"mySwiper\">\r\n                <swiper-slide  v-for=\"(picture,index) in  product.pictureList\" :key=\"index\">\r\n                    <div class=\"ban1\" >\r\n                            <img :src=\"picture\" alt=\"\">\r\n                            <!-- <img src=\"../../assets/images/index/bg_index.png\" alt=\"\"> -->\r\n                    </div> \r\n                </swiper-slide>\r\n                <div class=\"swiper-pagination\" slot=\"pagination\"></div>       \r\n            </swiper>\r\n        </div> \r\n        <div class=\"product-info p15\">\r\n                <div class=\"product-detail-name fs16\">{{rule.name}}</div>\r\n                <div style=\"width: 100%;height:30px;\">\r\n                    <div class=\"highlight fs22 fl three_div\">¥&nbsp;{{rule.price}}&nbsp;</div>\r\n                    <div class=\"highlight fl fs14 three_div\" style=\"padding-top:8px\">{{rule.discount}}&nbsp;</div>\r\n                    <div class=\"ori-price2 three_div\"  style=\"padding-top:8px\">运费&nbsp;&nbsp;<span class=\"highlight\">¥{{rule.postageFee}}</span></div>\r\n                </div>\r\n                <div style=\"width: 100%;height:20px\">\r\n                    <div class=\"ori-price2 fl three_div\">市场价<del>¥&nbsp;{{product.oriPrice}}</del></div>\r\n                    <div class=\"ori-price2 fl three_div\">库存<span class=\"highlight\" >{{product.canSaleNum}}</span>份</div>\r\n                    <div class=\"ori-price2 three_div\" v-if=\"rule.freeShippingNum<999\"><span class=\"highlight\">{{rule.freeShippingNum}}</span>件包邮</div>\r\n                </div>\r\n                <div style=\"width:100%;height:1px\">&nbsp;</div>\r\n\t    </div>\r\n        <!-- //剩余时间 -->\r\n        <!--只有活动的分类才显示倒计时-->\r\n        <div  v-if=\"rule.productType==6\">\r\n            <div class=\"mt2 time-wrap bb3\" v-if=\"!finished\">\r\n                    <span class=\"time-text\">剩余</span>\r\n                    <span v-if=\"left.days!='00'\"><span class=\"time-number\">{{left.days}}</span>天</span>\r\n                    <span class=\"time-number\">{{left.hours}}</span><span>时</span>\r\n                    <span class=\"time-number\">{{left.minitus}}</span><span >分</span>\r\n                    <span ><span class=\"time-number\" >{{left.seconds}}</span>秒</span>\r\n                    <span class=\"time-text\">结束</span>\r\n            </div>\r\n            <div class=\"mt2 time-wrap bb3  fs18\" v-if=\"finished\">\r\n                已结束\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 优惠搭配 -->\r\n        <div class=\"p15 bb3 fs18 coll\" v-show=\"collocation.id!=undefined||collocation.id!=null\" >\r\n            <div class=\"section-title\" style=\"padding-left:0px;padding-top:0px;\" @click=\"gotoCollocation()\">\r\n            优惠搭配<span class=\"collocation_desc\">{{collocation.title}}</span>\r\n            <i class=\"icon menu-link align-right fr\" style=\"margin-top: -3px;\"></i>\r\n            <span class=\"fr\">点击这里</span>\r\n            </div>    \r\n\r\n            <div >\r\n                <swiper  :options=\"swiperOption1\" ref=\"mySwiper\" v-if=\"collproducts.length>0\" >\r\n                <swiper-slide  v-for=\"(picture,index) in  collproducts\" :key=\"index\">\r\n                    <div class=\"ban2\" @click=\"gotoDetail(picture.salePlanId)\">\r\n                            <img :src=\"picture.productPic\" alt=\"\">\r\n                            <!-- <img src=\"../../assets/images/index/bg_index.png\" alt=\"\"> -->\r\n                            <div class=\"title\" >￥{{picture.price}}元</div>\r\n                    </div> \r\n                </swiper-slide>\r\n                <!-- <div class=\"swiper-pagination\" slot=\"pagination\"></div>        -->\r\n            </swiper>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"p15 mb15\">\r\n            <div class=\"section-title\" style=\"padding-left:0px;padding-top:0px;\"  @click=\"toggleDetail\">\r\n                商品详情\r\n                <i class=\"icon more-icon align-right fr\" :class=\"{topIcon:showDetail}\"></i>\r\n            </div>\r\n            <ul class=\"\" style=\"padding-top: 3px;\">\r\n                <li class=\"detail-item\" v-html=\"product.serviceDesc\"></li>\r\n            </ul>\r\n            <ul class=\"\"  v-if=\"showDetail\" style=\"padding-top: 3px\">\r\n                <li class=\"detail-item\" v-html=\"product.serviceDescMore\"></li>\r\n            </ul>\r\n\t    </div> \r\n\r\n        <div class=\"activityTitleLine\" style=\"margin-bottom: 85px;display: block;\" >\r\n             <span class=\"more_btn\" @click=\"goclassify()\">点击查看更多商品</span>\r\n        </div>\r\n\r\n        <div class=\"btn-home-fixed\" style=\"color: white; position: fixed;z-index:10000;width: 100%;bottom: 0px;\">\r\n            <span  class=\"fl\" \r\n                style=\"height:40px;line-height:40px;width:36%;background-color:#444;text-align:center;font-size:15px;\" @click=\"goclassify()\">\r\n                更多团购\r\n            </span>\r\n            <span  class=\"fl\" \r\n                style=\"height:40px;line-height:40px;width:64%;background-color:#ff8a00;text-align: center;font-size:15px;\"  @click=\"buy\" ms-class-useless=\"rule.leftSeconds < 0\">\r\n                立即购买\r\n            </span>\r\n    \t</div>\r\n\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nlet vm;\r\nimport wx from 'weixin-js-sdk';\r\nimport {swiper,swiperSlide} from 'vue-awesome-swiper';\r\nexport default {\r\n   data () {\r\n       return {\r\n           finished:false,\r\n           showDetail: false,\r\n            left:{ //剩余时间\r\n                days:\"0\",\r\n                hours:\"0\",\r\n                minitus:\"0\",\r\n                seconds:\"0\"\r\n             },\r\n           product: {\r\n                pictureList:[],\r\n            },\r\n            rule:{\r\n                currentNum:0,\r\n            },\r\n            collocation:{},\r\n            collproducts:[],\r\n           ruleId:this.$route.query.ruleId,//参数\r\n            swiperOption:{//轮播图\r\n                notNextTick:true,\r\n                // autoplay:false,\r\n                autoplay: {\r\n                    disableOnInteraction:false,\r\n                    delay:6000\r\n                },\r\n                loop: true,\r\n                pagination: {\r\n                el: '.swiper-pagination'\r\n                },\r\n            },\r\n            swiperOption1:{//轮播图\r\n                slidesPerView:3,\r\n                // spaceBetween:30,\r\n                notNextTick:true,\r\n                // autoplay:false,\r\n                loop: true,\r\n                // loopFillGroupWithBlank: true,\r\n                autoplay: {\r\n                    disableOnInteraction:false,\r\n                    delay:8000\r\n                },\r\n                pagination: {\r\n                el: '.swiper-pagination'\r\n                },\r\n                \r\n            },\r\n\r\n       };\r\n   },\r\n   created(){\r\n       vm=this;\r\n        vm.query();\r\n         vm.collocations();\r\n   },\r\n   mounted() {\r\n        this.common.checkRegisterStatus()\r\n        let url = location.href.split('#')[0];\r\n        vm.receiveData.wxconfig(vm,wx,['onMenuShareTimeline','onMenuShareAppMessage'],url);\r\n   },\r\n   updated(){\r\n       \r\n   },\r\n\r\n   methods: {\r\n        query() {\r\n            let url =\"getOnSaleRule/\"+vm.ruleId;\r\n                vm.receiveData.getData(vm,url,'Data',function(){\r\n                    if(vm.Data.success) {\r\n                         if(vm.Data.result) {\r\n                            vm.rule=vm.Data.result;                          \r\n                            vm.productss(vm.rule.productId)\r\n                           setInterval(vm.updateLeftTime,1000);//倒计时 \r\n                         }\r\n                    }else {    \r\n                        alert(vm.Data.message==null?\"获取团购信息失败！\":vm.Data.message);\r\n                    }\r\n            });\r\n        },\r\n         productss(productId) {\r\n            let url =\"getProduct/\"+productId;\r\n                vm.receiveData.getData(vm,url,'res',function(){\r\n                    if(vm.res.success) {\r\n                            vm.product = vm.res.result;  \r\n                            vm.common.initShareConfig(vm.rule.name,vm.basePageUrl+\"group/onsales.html?trpe=3#/onsaledetail?ruleId=\"+vm.ruleId,vm.product.smallPicture,\"快来参加合协社区的优惠商品抢购吧\",wx);   \r\n                    }else {\r\n                        alert(vm.res.message==null ?\"获取产品信息失败！\":vm.res.message);\r\n                    }\r\n            });\r\n        },\r\n        collocations() {\r\n            let url =\"collocation/3/\" + vm.ruleId;\r\n             vm.receiveData.getData(vm,url,'res',function(){\r\n                    if(vm.res.success) {\r\n                        vm.collocation=vm.res.result;\r\n                        vm.collproducts=vm.res.result.products;\r\n                    }\r\n             })\r\n        },\r\n        //剩余时间\r\n        updateLeftTime() {\r\n            if(vm.rule.leftSeconds > 0){\r\n                vm.finished = false;\r\n                vm.rule.leftSeconds=vm.rule.leftSeconds-1;\r\n                var iRemain = vm.rule.leftSeconds;\r\n                var days=parseInt(iRemain/86400);\r\n                vm.left.days = days<10?\"0\"+days:days;\r\n                iRemain%=86400;\r\n\r\n                var hours=parseInt(iRemain/3600);\r\n                vm.left.hours = hours<10?\"0\"+hours:hours;\r\n                iRemain%=3600;\r\n\r\n                var minitus = parseInt(iRemain/60);\r\n                vm.left.minitus = minitus<10?\"0\"+minitus:minitus;\r\n                iRemain%=60;\r\n\r\n                vm.left.seconds=iRemain<10?\"0\"+iRemain:iRemain;\r\n            }else{\r\n                vm.finished = true;\r\n            }\r\n        },\r\n        toggleDetail() {\r\n            vm.showDetail = !vm.showDetail;\r\n        },\r\n        // 优惠搭配\r\n        gotoCollocation() {\r\n            vm.$router.push({path:'/collocation',query:{'collId':vm.collocation.id,'ruleId':vm.ruleId}})\r\n        },\r\n        //点击轮播\r\n        gotoDetail(ruleId) {\r\n             vm.$router.push({path:'/onsaledetail',query:{'ruleId':ruleId}})\r\n             location.reload()\r\n        },\r\n        //更多商品\r\n        goclassify() {\r\n            // vm.$router.push({path:'/',query:{'type':vm.rule.productType}})\r\n            window.location.href=vm.basePageUrl+'group/onsales.html?state=123';\r\n        },\r\n        //立即购买\r\n        buy() {\r\n             if(vm.rule.id) {\r\n                //  vm.$router.push({path:'/buy',query:{type:'3',ruleId:vm.rule.id}})\r\n                location.href=vm.basePageUrl+'grouppay.html#/buy?type=3&ruleId='+vm.rule.id\r\n             }   \r\n        }\r\n   },\r\n    components: {\r\n        swiper,\r\n        swiperSlide\r\n   },\r\n   computed: {},\r\n}\r\n</script>\r\n<style>\r\n.controller .swiper-pagination-bullet-active {\r\n    opacity: 1;\r\n    background: #fff;\r\n}\r\n</style>\r\n\r\n<style  scoped>\r\n.controller {\r\n     background-color: #fffff8;\r\n    padding-bottom: 1px;\r\n}\r\n\r\n      \r\n.ban1{width: 100%;}\r\n.ban1 img{width: 100%; }\r\n.ban2{ height: 121px;position: relative; margin-right:20px}\r\n.ban2 img{height: 100%; }\r\n.product-info {\r\n    clear: both;\r\n    background-color: #E2E2E2;\r\n}\r\n.p15 {\r\n    padding: 15px;\r\n}\r\n.fs16 {\r\n    font-size: 16px;\r\n}\r\n.product-detail-name {\r\n    font-size: 16px;\r\n    height: 40px;\r\n    color: #000000;\r\n    line-height: 20px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n}\r\n.three_div {\r\n    width: 33%;\r\n    float: left;\r\n}\r\n.highlight {\r\n    color: #ff8a00;\r\n}\r\n.fs22 {\r\n    font-size: 22px;\r\n}\r\n.fs14 {\r\n    font-size: 14px;\r\n}\r\n.ori-price2 {\r\n    font-size: 14px;\r\n    color: #999999;\r\n}\r\n/* 剩余时间 */\r\n.time-wrap {\r\n    text-align: center;\r\n    /* widht: 100%; */\r\n    height: 48px;\r\n    /* inline-height: 48px; */\r\n}\r\n.bb3 {\r\n    border-bottom: 5px solid #f7f7f1;\r\n}\r\n.mt2 {\r\n    margin-top: .5rem;\r\n}\r\n.time-text {\r\n    font-size: 18px;\r\n    color: #996c33;\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n}\r\n.time-number {\r\n    font-size: 20px;\r\n    padding: 4px 6px;\r\n    color: white;\r\n    background: url(../../assets/images/index/img_time.png) no-repeat;\r\n    background-size: 100% 100%;\r\n}\r\n.fs18 {\r\n    font-size:18px;\r\n}\r\n/* 剩余时间 */\r\n.rgroup-info {\r\n    /* widht: 100%; */\r\n    height: 70px;\r\n}\r\n.plr10 {\r\n    padding: 0 10px;\r\n}\r\n.collocation_desc {\r\n    padding: 2px 15px;\r\n    border: 1px solid #ff8a00;\r\n    border-radius: 2px;\r\n    margin-left: 10px;\r\n    color: #ff8a00;\r\n}\r\n.menu-link {\r\n    display: block;\r\n    background: url(../../assets/images/index/icon_arrow.png) no-repeat;\r\n    background-size: 7px 12px;\r\n    background-position: right center;\r\n    padding-right: 15px;\r\n}\r\n/* 商品详情 */\r\n .section-title {\r\n    display: block;\r\n    font-size: 13px;\r\n    color: #7e6b5a;\r\n    padding-bottom: 7px;\r\n    border-bottom: 1px solid #d4cfc8;\r\n}\r\n.more-icon {\r\n    background-image: url(../../assets/images/index/icon_more.png);\r\n    background-size: 18px 3px;\r\n    background-position-y: 8px;\r\n}\r\n.icon {\r\n    display: inline-block;\r\n    width: 25px;\r\n    height: 25px;\r\n    background-repeat: no-repeat;\r\n}\r\n.topIcon {\r\n    background-image: url(../../assets/images/index/icon_top.png);\r\n    background-size: 12px 7px;\r\n}\r\n.detail-item {\r\n    width: 100%;\r\n    margin-top: 12px;\r\n    font-size: 12px;\r\n    color: #323937;\r\n}\r\n.activityTitleLine {\r\n    text-align: center;\r\n    font-size: 16px;\r\n}\r\n.more_btn {\r\n    color: #996c33;\r\n    border: #cfa972 solid 1px;\r\n    padding: 8px 30px;\r\n    font-size: 14px;\r\n    margin-top: 25px;\r\n    margin-bottom: 25px;\r\n    border-radius: 6px;\r\n}\r\n.title {\r\n    opacity: 0.7;\r\n    bottom: 0px;\r\n    width: 29%;\r\n    font-size: 14px;\r\n    padding-top: 5px;\r\n    margin-bottom: 0px;\r\n    text-align: center;\r\n    background-color: #ff8a00;\r\n    color: white;\r\n    padding-bottom: 7px;\r\n    position: absolute;\r\n    width: 100%;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/index/onsaledetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"controller\"},[_c('div',[(_vm.product.pictureList.length>0)?_c('swiper',{ref:\"mySwiper\",attrs:{\"options\":_vm.swiperOption}},[_vm._l((_vm.product.pictureList),function(picture,index){return _c('swiper-slide',{key:index},[_c('div',{staticClass:\"ban1\"},[_c('img',{attrs:{\"src\":picture,\"alt\":\"\"}})])])}),_vm._v(\" \"),_c('div',{staticClass:\"swiper-pagination\",attrs:{\"slot\":\"pagination\"},slot:\"pagination\"})],2):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"product-info p15\"},[_c('div',{staticClass:\"product-detail-name fs16\"},[_vm._v(_vm._s(_vm.rule.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"30px\"}},[_c('div',{staticClass:\"highlight fs22 fl three_div\"},[_vm._v(\"¥ \"+_vm._s(_vm.rule.price)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"highlight fl fs14 three_div\",staticStyle:{\"padding-top\":\"8px\"}},[_vm._v(_vm._s(_vm.rule.discount)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"ori-price2 three_div\",staticStyle:{\"padding-top\":\"8px\"}},[_vm._v(\"运费  \"),_c('span',{staticClass:\"highlight\"},[_vm._v(\"¥\"+_vm._s(_vm.rule.postageFee))])])]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"20px\"}},[_c('div',{staticClass:\"ori-price2 fl three_div\"},[_vm._v(\"市场价\"),_c('del',[_vm._v(\"¥ \"+_vm._s(_vm.product.oriPrice))])]),_vm._v(\" \"),_c('div',{staticClass:\"ori-price2 fl three_div\"},[_vm._v(\"库存\"),_c('span',{staticClass:\"highlight\"},[_vm._v(_vm._s(_vm.product.canSaleNum))]),_vm._v(\"份\")]),_vm._v(\" \"),(_vm.rule.freeShippingNum<999)?_c('div',{staticClass:\"ori-price2 three_div\"},[_c('span',{staticClass:\"highlight\"},[_vm._v(_vm._s(_vm.rule.freeShippingNum))]),_vm._v(\"件包邮\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"1px\"}},[_vm._v(\" \")])]),_vm._v(\" \"),(_vm.rule.productType==6)?_c('div',[(!_vm.finished)?_c('div',{staticClass:\"mt2 time-wrap bb3\"},[_c('span',{staticClass:\"time-text\"},[_vm._v(\"剩余\")]),_vm._v(\" \"),(_vm.left.days!='00')?_c('span',[_c('span',{staticClass:\"time-number\"},[_vm._v(_vm._s(_vm.left.days))]),_vm._v(\"天\")]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"time-number\"},[_vm._v(_vm._s(_vm.left.hours))]),_c('span',[_vm._v(\"时\")]),_vm._v(\" \"),_c('span',{staticClass:\"time-number\"},[_vm._v(_vm._s(_vm.left.minitus))]),_c('span',[_vm._v(\"分\")]),_vm._v(\" \"),_c('span',[_c('span',{staticClass:\"time-number\"},[_vm._v(_vm._s(_vm.left.seconds))]),_vm._v(\"秒\")]),_vm._v(\" \"),_c('span',{staticClass:\"time-text\"},[_vm._v(\"结束\")])]):_vm._e(),_vm._v(\" \"),(_vm.finished)?_c('div',{staticClass:\"mt2 time-wrap bb3  fs18\"},[_vm._v(\"\\n                已结束\\n            \")]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.collocation.id!=undefined||_vm.collocation.id!=null),expression:\"collocation.id!=undefined||collocation.id!=null\"}],staticClass:\"p15 bb3 fs18 coll\"},[_c('div',{staticClass:\"section-title\",staticStyle:{\"padding-left\":\"0px\",\"padding-top\":\"0px\"},on:{\"click\":function($event){_vm.gotoCollocation()}}},[_vm._v(\"\\n            优惠搭配\"),_c('span',{staticClass:\"collocation_desc\"},[_vm._v(_vm._s(_vm.collocation.title))]),_vm._v(\" \"),_c('i',{staticClass:\"icon menu-link align-right fr\",staticStyle:{\"margin-top\":\"-3px\"}}),_vm._v(\" \"),_c('span',{staticClass:\"fr\"},[_vm._v(\"点击这里\")])]),_vm._v(\" \"),_c('div',[(_vm.collproducts.length>0)?_c('swiper',{ref:\"mySwiper\",attrs:{\"options\":_vm.swiperOption1}},_vm._l((_vm.collproducts),function(picture,index){return _c('swiper-slide',{key:index},[_c('div',{staticClass:\"ban2\",on:{\"click\":function($event){_vm.gotoDetail(picture.salePlanId)}}},[_c('img',{attrs:{\"src\":picture.productPic,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"￥\"+_vm._s(picture.price)+\"元\")])])])}),1):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"p15 mb15\"},[_c('div',{staticClass:\"section-title\",staticStyle:{\"padding-left\":\"0px\",\"padding-top\":\"0px\"},on:{\"click\":_vm.toggleDetail}},[_vm._v(\"\\n                商品详情\\n                \"),_c('i',{staticClass:\"icon more-icon align-right fr\",class:{topIcon:_vm.showDetail}})]),_vm._v(\" \"),_c('ul',{staticStyle:{\"padding-top\":\"3px\"}},[_c('li',{staticClass:\"detail-item\",domProps:{\"innerHTML\":_vm._s(_vm.product.serviceDesc)}})]),_vm._v(\" \"),(_vm.showDetail)?_c('ul',{staticStyle:{\"padding-top\":\"3px\"}},[_c('li',{staticClass:\"detail-item\",domProps:{\"innerHTML\":_vm._s(_vm.product.serviceDescMore)}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"activityTitleLine\",staticStyle:{\"margin-bottom\":\"85px\",\"display\":\"block\"}},[_c('span',{staticClass:\"more_btn\",on:{\"click\":function($event){_vm.goclassify()}}},[_vm._v(\"点击查看更多商品\")])]),_vm._v(\" \"),_c('div',{staticClass:\"btn-home-fixed\",staticStyle:{\"color\":\"white\",\"position\":\"fixed\",\"z-index\":\"10000\",\"width\":\"100%\",\"bottom\":\"0px\"}},[_c('span',{staticClass:\"fl\",staticStyle:{\"height\":\"40px\",\"line-height\":\"40px\",\"width\":\"36%\",\"background-color\":\"#444\",\"text-align\":\"center\",\"font-size\":\"15px\"},on:{\"click\":function($event){_vm.goclassify()}}},[_vm._v(\"\\n                更多团购\\n            \")]),_vm._v(\" \"),_c('span',{staticClass:\"fl\",staticStyle:{\"height\":\"40px\",\"line-height\":\"40px\",\"width\":\"64%\",\"background-color\":\"#ff8a00\",\"text-align\":\"center\",\"font-size\":\"15px\"},attrs:{\"ms-class-useless\":\"rule.leftSeconds < 0\"},on:{\"click\":_vm.buy}},[_vm._v(\"\\n                立即购买\\n            \")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b53eca9c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index/onsaledetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b53eca9c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./onsaledetail.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b53eca9c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./onsaledetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./onsaledetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./onsaledetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b53eca9c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./onsaledetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b53eca9c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/onsaledetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}