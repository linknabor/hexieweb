webpackJsonp([7],{ASeG:function(e,t,r){"use strict";(function(e){var n,i=r("fxnj");r.n(i);t.a={data:function(){return{orderId:"8677",item:{},imgUrl:"",falg:!1,imgs:""}},created:function(){n=this},components:{},computed:{},mounted:function(){n.query()},methods:{query:function(){n.receiveData.getData(n,"/queryPromotionOrder","res",function(){n.res.success?0==n.res.result?n.getdetail():n.order():null!=n.res.message&&alert(n.res.message)})},order:function(){n.receiveData.getData(n,"/evoucher/getByOrder/"+n.orderId,"res",function(){n.res.success?(n.item=n.res.result,n.bgload()):null!=n.res.message&&alert(n.res.message)})},getdetail:function(){n.receiveData.getData(n,"/onsales/getPromotion","res",function(){n.res.success?n.$router.push({path:"/salesdetail",query:{ruleId:n.res.result[0].ruleId,productType:n.res.result[0].productType}}):null!=n.res.message&&alert(n.res.message)})},bgload:function(){n.imgUrl="http://img.e-shequ.com/FogXNV1BmqMXGGTQ-LDyVr1rkRZk";var t=document.documentElement.clientWidth||document.body.clientWidth,r=document.documentElement.clientHeight||document.body.clientHeight,i=(t=t,r=r,document.getElementById("bg")),a=n.item.qrcode,o="",s=(o=document.getElementById("canvas")).getContext("2d");o.style.width=t+"px",o.style.height=r+"px";var c,l,d=(l=(c=s).backingStorePixelRatio||c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1,(window.devicePixelRatio||1)/l);o.width=t*d,o.height=r*d;var u=new Image;u.src=a,i.onload=function(){s.drawImage(i,0,0,s.canvas.width,s.canvas.height),s.drawImage(u,t-r/5-0,r-r/7-8,r/4,r/4),n.imgs=o.toDataURL("image/jpeg"),n.falg=!0,e("#bg").hide()}},base64Img2Blob:function(e){for(var t=e.split(";base64,"),r=t[0].split(":")[1],n=window.atob(t[1]),i=n.length,a=new Uint8Array(i),o=0;o<i;++o)a[o]=n.charCodeAt(o);return new Blob([a],{type:r})},downloadFile:function(e,t){n.base64Img2Blob(t)}}}}).call(t,r("7t+N"))},Nz9X:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("ASeG"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:this.falg,expression:"falg"}]},[t("canvas",{attrs:{id:"canvas"}}),this._v(" "),t("img",{attrs:{src:this.imgUrl,id:"bg",crossOrigin:"Anonymous"}})])])},staticRenderFns:[]};var a=function(e){r("wkF+")},o=r("VU/8")(n.a,i,!1,a,"data-v-3256f518",null);t.default=o.exports},"wkF+":function(e,t){}});