webpackJsonp([8],{ASeG:function(e,t,i){"use strict";(function(e){var r,s=i("fxnj");i.n(s);t.a={data:function(){return{orderId:"",item:{},imgUrl:"",falg:!1,imgs:""}},created:function(){r=this},components:{},computed:{},mounted:function(){r.query()},methods:{query:function(){r.receiveData.getData(r,"/queryPromotionOrder","res",function(){r.res.success?0==r.res.result?r.getdetail():(r.orderId=r.res.result,r.order()):null!=r.res.message&&alert(r.res.message)})},order:function(){r.receiveData.getData(r,"/evoucher/getByOrder/"+r.orderId,"res",function(){r.res.success?(r.item=r.res.result,r.bgload()):null!=r.res.message&&alert(r.res.message)})},getdetail:function(){r.receiveData.getData(r,"/onsales/getPromotion","res",function(){r.res.success?r.$router.push({path:"/salesdetail",query:{ruleId:r.res.result[0].ruleId,productType:r.res.result[0].productType}}):null!=r.res.message&&alert(r.res.message)})},bgload:function(){r.imgUrl="http://img.e-shequ.com/FogXNV1BmqMXGGTQ-LDyVr1rkRZk";var t=document.documentElement.clientWidth||document.body.clientWidth,i=document.documentElement.clientHeight||document.body.clientHeight,s=document.getElementById("bg"),a=r.item.qrcode,o="";s.onload=function(){var n=(o=document.getElementById("canvas")).getContext("2d");o.style.width=t+"px",o.style.height=i+"px";var c,d,l=(d=(c=n).backingStorePixelRatio||c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1,(window.devicePixelRatio||1)/d);o.width=t*l,o.height=i*l;var u=new Image;u.src=a,n.drawImage(s,0,0,n.canvas.width,n.canvas.height),console.log(t),console.log(i);var g=-(t/7.4).toFixed(3),m=-(i/7.4).toFixed(3),h=-(t/1.32).toFixed(3),v=-(i/1.32).toFixed(3);console.log(g,m,h,v),n.drawImage(u,t-i/g-m,i-i/h-v,i/4.5,i/4.5),r.imgs=o.toDataURL("image/jpeg"),r.falg=!1,e("#bg").hide()}}}}}).call(t,i("7t+N"))},MqwU:function(e,t){},Nz9X:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("ASeG"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:this.falg,expression:"falg"}]},[t("canvas",{attrs:{id:"canvas"}}),this._v(" "),t("img",{attrs:{src:this.imgUrl,id:"bg",crossOrigin:"Anonymous"}})]),this._v(" "),t("img",{attrs:{id:"imgs",src:this.imgs,alt:"",width:"750",height:"1334"}}),this._v(" "),t("img",{staticStyle:{display:"none"},attrs:{src:this.item.qrcode,alt:""}})])},staticRenderFns:[]};var a=function(e){i("MqwU")},o=i("VU/8")(r.a,s,!1,a,"data-v-08de574a",null);t.default=o.exports}});