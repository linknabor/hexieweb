webpackJsonp([9],{AZiZ:function(e,t){},Nz9X:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r("fxnj");var n,s={data:function(){return{orderId:"8677",item:{},imgUrl:"",falg:!1,imgs:""}},created:function(){n=this},components:{},computed:{},mounted:function(){n.query()},methods:{query:function(){n.receiveData.getData(n,"/queryPromotionOrder","res",function(){n.res.success?0==n.res.result?n.getdetail():n.order():null!=n.res.message&&alert(n.res.message)})},order:function(){n.receiveData.getData(n,"/evoucher/getByOrder/"+n.orderId,"res",function(){n.res.success?n.bgload():null!=n.res.message&&alert(n.res.message)})},getdetail:function(){n.receiveData.getData(n,"/onsales/getPromotion","res",function(){n.res.success?n.$router.push({path:"/salesdetail",query:{ruleId:n.res.result[0].ruleId,productType:n.res.result[0].productType}}):null!=n.res.message&&alert(n.res.message)})},bgload:function(){n.imgUrl="http://img.e-shequ.com/FogXNV1BmqMXGGTQ-LDyVr1rkRZk";var e=document.documentElement.clientWidth||document.body.clientWidth,t=document.documentElement.clientHeight||document.body.clientHeight,r=document.getElementById("bg"),s=n.item.qrcode,a="";(a=document.getElementById("canvas")).width=e,a.height=t;var i=a.getContext("2d"),o=new Image;o.src=s,r.onload=function(){i.drawImage(r,0,0,i.canvas.width,i.canvas.height),i.drawImage(o,e-t/7.6-76,t-t/8.8-9,t/7,t/8),n.imgs=a.toDataURL("image/jpeg"),n.downloadFile("tox.png",n.imgs)}},base64Img2Blob:function(e){for(var t=e.split(";base64,"),r=t[0].split(":")[1],n=window.atob(t[1]),s=n.length,a=new Uint8Array(s),i=0;i<s;++i)a[i]=n.charCodeAt(i);return new Blob([a],{type:r})},downloadFile:function(e,t){n.base64Img2Blob(t)}}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:this.falg,expression:"falg"}]},[t("canvas",{attrs:{id:"canvas"}}),this._v(" "),t("img",{attrs:{src:this.imgUrl,id:"bg",crossOrigin:"Anonymous"}})]),this._v(" "),t("img",{attrs:{src:this.imgs,alt:""}})])},staticRenderFns:[]};var i=r("VU/8")(s,a,!1,function(e){r("AZiZ")},"data-v-1ff9adde",null);t.default=i.exports}});