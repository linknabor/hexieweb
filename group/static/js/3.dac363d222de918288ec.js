webpackJsonp([3],{"7zWn":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("KOyn"),i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],staticClass:"load6",attrs:{id:"LoadingBar"}},[s("div",{staticClass:"bounce1"}),t._v(" "),s("div",{staticClass:"bounce2"}),t._v(" "),s("div",{staticClass:"bounce3"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],staticClass:"black_overlay",attrs:{id:"fade"}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.phoneErro,expression:"phoneErro"}],attrs:{id:"phoneErro"}},[s("span",[t._v("没有更多")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.hidden,expression:"hidden"}],staticClass:"hidden",attrs:{id:"phoneAjax"}},[s("img",{staticStyle:{width:"40px","vertical-align":"middle"},attrs:{src:a("KrrY")}})]),t._v(" "),s("div",{attrs:{id:"indexdivs"},on:{scroll:t.getscroll}},[s("div",{attrs:{id:"indexDiv"}},[t._l(t.banners,function(e){return e.onSaleType==t.currentType?s("div",{key:e.id,staticClass:"banner"},[s("img",{attrs:{src:e.picture}})]):t._e()}),t._v(" "),t._l(t.titles,function(e){return e.onSaleType==t.currentType?s("div",{key:e.id},[s("div",{staticClass:"product-l"}),t._v(" "),s("div",{staticClass:"product-d"},[s("div",{staticClass:"product-d-d"},[s("span",{staticClass:"product-d-d-s"},[s("img",{staticClass:"store-icon",attrs:{src:e.picture}}),t._v(" "),s("span",{staticClass:"fs17",staticStyle:{color:"#FF8A00"}},[t._v(t._s(e.brandName))])])])])]):t._e()}),t._v(" "),s("div",{staticClass:"mlr5"},[t._l(t.temais,function(e,a){return s("div",{key:e.id,staticStyle:{width:"50%",float:"left"}},[s("div",{staticClass:"product-item",class:{pleft:a%2==1,pright:a%2==0},on:{click:function(a){t.Href(e.ruleId)}}},[s("div",{staticClass:"pic_container"},[s("div",{staticClass:"pic_dummy"}),t._v(" "),s("img",{staticClass:"product-image pic_content",attrs:{alt:"",src:e.productPic}}),t._v(" "),null!=e.tagUrl&&""!=e.tagUrl?s("img",{staticClass:"product-tag",attrs:{src:e.tagUrl}}):t._e()]),t._v(" "),s("div",{staticClass:"product-name pl05"},[t._v(t._s(e.ruleName))]),t._v(" "),s("div",{staticClass:"mt1 pl05"},[s("span",{staticClass:"highlight fs20"},[t._v("¥ "+t._s(e.price)+" ")]),t._v(" "),s("span",{staticClass:"ori-price"},[s("del",[t._v("¥ "+t._s(e.oriPrice)+" ")])]),t._v(" "),s("span",{staticClass:"product-discount"},[t._v(t._s(e.discount))])])])])}),t._v(" "),s("div",{staticStyle:{clear:"both"}})],2)],2),t._v(" "),s("div",{staticStyle:{height:"60px",clear:"both"}})]),t._v(" "),s("Footer")],1)},staticRenderFns:[]};var n=function(t){a("szz7")},r=a("VU/8")(s.a,i,!1,n,"data-v-048b855f",null);e.default=r.exports},KOyn:function(t,e,a){"use strict";(function(t){var s=a("mvHQ"),i=(a.n(s),a("2NXm")),n=void 0,r=!0,c=!1;e.a={data:function(){return{load:!0,hidden:!1,phoneErro:!1,temais:[],currentType:this.$route.query.type,page:0,banners:[],titles:[]}},created:function(){n=this},mounted:function(){n.query(),n.getBannerType()},components:{Footer:i.a},methods:{initSession4Test:function(){n.receiveData.getData(n,"/initSession4Test/79185","Data",function(){})},getBannerType:function(){n.receiveData.getData(n,"banner/6","res",function(){n.res.success?n.banners=n.res.result:alert("获取banner异常")}),n.receiveData.getData(n,"banner/5","res",function(){n.res.success?n.titles=n.res.result:alert("获取banner异常")})},query:function(){null==n.currentType&&(n.currentType=100);var t="onsales/"+n.currentType+"/"+n.page;this.common.invokeApi("GET",t,null,null,function(t){n.temais=t.result,n.load=!1,n.page++},function(){n.load=!1,n.temais=[]})},Href:function(t){n.$router.push({path:"/onsaledetail",query:{ruleId:t,type:n.currentType}})},getscroll:function(e){var a=e.srcElement.scrollTop;t("#indexDiv").height()-a<800&&r&&!c&&(c=!0,n.hidden=!0,n.loadNextPage())},loadNextPage:function(){var t="onsales/"+n.currentType+"/"+n.page;n.receiveData.getData(n,t,"Data",function(){n.Data.success?null==n.Data.result||0==n.Data.result.length?(n.hidden=!1,r=!1,n.phoneErro=!0,setTimeout(function(){n.phoneErro=!1},1e3)):(c=!1,n.hidden=!1,n.temais=n.temais.concat(n.Data.result),n.page++):(c=!1,alert("加载特卖信息失败"))})}},computed:{}}}).call(e,a("7t+N"))},szz7:function(t,e){}});