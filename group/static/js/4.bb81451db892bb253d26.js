webpackJsonp([4],{"PC+P":function(e,t){},j2xg:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("mvHQ"),a=s.n(r),i=s("fxnj"),o=s.n(i),c=(s("lbHh"),void 0),n=s("PXCl").Base64,l={data:function(){return{zzshow:!1,product:{pictureList:[]},rule:{currentNum:0},serviceDesc1:"",serviceDescMore1:"",ruleId:this.$route.query.ruleId,productType:this.$route.query.productType,shareCode:this.$route.query.shareCode,orderid:""}},created:function(){(c=this).query(),c.queryorderid()},mounted:function(){var e=location.href.split("#")[0];c.receiveData.wxconfig(c,o.a,["onMenuShareTimeline","onMenuShareAppMessage"],e),c.initShareSetting()},updated:function(){},methods:{initShareSetting:function(){var e=location.href;c.common.initShareConfig("招募社区合伙人",e,"http://img.e-shequ.cn/FgHbz_5ettUPTBr3ts3zSXHb3tBu","加入社区合伙人，挑战副业月入过万",o.a)},query:function(){var e="getOnSaleRule/"+c.ruleId;c.receiveData.getData(c,e,"Data",function(){c.Data.success?c.Data.result&&(c.rule=c.Data.result,c.productss(c.rule.productId)):"40001"!=c.Data.errorCode&&alert(c.Data.message)})},productss:function(e){var t="getProduct/"+e;c.receiveData.getData(c,t,"res",function(){c.res.success?(c.product=c.res.result,c.serviceDesc1=n.decode(c.product.serviceDesc),c.serviceDescMore1=n.decode(c.product.serviceDescMore),c.common.initShareConfig(c.rule.name,c.basePageUrl+"group/onsales.html?"+c.common.getoriApp()+"#/onsaledetail?ruleId="+c.ruleId,c.product.smallPicture,"快来参加"+c.common.newname+"的优惠商品抢购吧",o.a)):alert(null==c.res.message?"获取产品信息失败！":c.res.message)})},queryorderid:function(){c.receiveData.getData(c,"/queryPromotionOrder?orderType=13","res",function(){c.res.success?c.orderid=c.res.result:null!=c.res.message&&alert(c.res.message)})},buy:function(){"0"!=c.orderid?c.PayV2():location.href=c.basePageUrlpay+"hxgrouppay.html?"+c.common.getoriApp()+"#/salespage?ruleId="+c.ruleId+"&productType="+c.productType+"&shareCode="+c.shareCode},PayV2:function(){c.zzshow=!0;var e={ruleId:c.ruleId,productType:c.productType,shareCode:c.shareCode};c.receiveData.postData(c,"/promotionPayV2",e,"res",function(){if(c.res.success){var e=c.res;o.a.config({debug:!1,appId:e.result.appId,timestamp:e.result.timestamp,nonceStr:e.result.nonceStr,signature:e.result.signature,jsApiList:["chooseWXPay"]}),o.a.chooseWXPay({appId:e.result.appId,timestamp:e.result.timestamp,nonceStr:e.result.nonceStr,package:e.result.pkgStr,signType:e.result.signType,paySign:e.result.signature,success:function(e){c.zzshow=!1,location.href=c.basePageUrlpay+"hxgrouppay.html?"+c.common.getoriApp()+"#/salessuccess"},fail:function(e){console.log(a()(e))},cancel:function(e){c.zzshow=!1,alert("支付取消")}})}else c.zzshow=!1,alert(c.res.message)})}},components:{},computed:{}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"controller"},[s("div",[s("div",{staticClass:"ban1"},[s("img",{attrs:{src:e.product.pictures,alt:""}})])]),e._v(" "),s("div",{staticClass:"product-info p15"},[s("div",{staticClass:"product-detail-name fs16"},[e._v(e._s(e.rule.name))]),e._v(" "),s("div",{staticStyle:{width:"100%",height:"30px","line-height":"30px"}},[s("div",{staticClass:"highlight fs22 fl three_div1"},[e._v("¥ "+e._s(e.rule.price)+" ")]),e._v(" "),s("div",{staticClass:"ori-posi"},[s("div",{staticClass:" fs20 ori-price2 fl  three_div2"},[e._v("市场价"),s("del",[e._v("¥ "+e._s(e.product.oriPrice))])]),e._v(" "),s("div",{staticClass:" highlight fs22 fl three_div3"},[e._v(e._s(e.rule.discount)+" ")])])]),e._v(" "),s("div",{staticStyle:{width:"100%",height:"1px"}},[e._v(" ")])]),e._v(" "),s("div",{staticClass:"p15 mb15"},[s("ul",{staticStyle:{"padding-top":"3px"}},[s("li",{staticClass:"detail-item",domProps:{innerHTML:e._s(e.serviceDesc1)}})]),e._v(" "),s("ul",{staticStyle:{"padding-top":"3px"}},[s("li",{staticClass:"detail-item",domProps:{innerHTML:e._s(e.serviceDescMore1)}})])]),e._v(" "),s("div",{staticStyle:{height:"80px"}})]),e._v(" "),s("div",{staticClass:"btn-fixed"},[s("div",{staticClass:"fl btn-lt"},[s("span",{staticClass:"price fl"},[e._v("¥"+e._s(e.rule.price))]),e._v(" "),s("div",{staticClass:"fl btn-txt"},[s("span",{staticClass:"highlight tehui"},[e._v("限时特惠")]),e._v(" "),s("br"),e._v(" "),s("span",{staticClass:"dels shic"},[e._v("市场价: "),s("del",[e._v("¥ "+e._s(e.product.oriPrice))])])])]),e._v(" "),s("div",{staticClass:"fr btn-rg"},[s("span",{attrs:{"ms-class-useless":"rule.leftSeconds < 0"},on:{click:e.buy}},[e._v("\r\n                立即购买\r\n            ")])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.zzshow,expression:"zzshow"}],staticClass:"zzmb",attrs:{id:"zzmb"}})])},staticRenderFns:[]};var d=s("VU/8")(l,u,!1,function(e){s("y+Kz"),s("PC+P")},"data-v-408be1d7",null);t.default=d.exports},"y+Kz":function(e,t){}});