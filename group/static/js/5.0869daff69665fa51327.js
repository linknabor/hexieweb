webpackJsonp([5],{"7zWn":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("KOyn"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],staticClass:"load6",attrs:{id:"LoadingBar"}},[a("div",{staticClass:"bounce1"}),t._v(" "),a("div",{staticClass:"bounce2"}),t._v(" "),a("div",{staticClass:"bounce3"})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],staticClass:"black_overlay",attrs:{id:"fade"}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.phoneErro,expression:"phoneErro"}],attrs:{id:"phoneErro"}},[a("span",[t._v("没有更多")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.hidden,expression:"hidden"}],staticClass:"hidden",attrs:{id:"phoneAjax"}},[a("img",{staticStyle:{width:"40px","vertical-align":"middle"},attrs:{src:s("KrrY")}})]),t._v(" "),a("div",{attrs:{id:"indexdivs"},on:{scroll:t.getscroll}},[a("div",{attrs:{id:"indexDiv"}},[t._l(t.banners,function(e){return e.onSaleType==t.currentType?a("div",{key:e.id,staticClass:"banner"},[a("img",{attrs:{src:e.picture}})]):t._e()}),t._v(" "),t._l(t.titles,function(e){return e.onSaleType==t.currentType?a("div",{key:e.id},[a("div",{staticClass:"product-l"}),t._v(" "),a("div",{staticClass:"product-d"},[a("div",{staticClass:"product-d-d"},[a("span",{staticClass:"product-d-d-s"},[a("img",{staticClass:"store-icon",attrs:{src:e.picture}}),t._v(" "),a("span",{staticClass:"fs17",staticStyle:{color:"#FF8A00"}},[t._v(t._s(e.brandName))])])])])]):t._e()}),t._v(" "),a("div",{staticClass:"mlr5"},[t._l(t.temais,function(e,s){return a("div",{key:e.id,staticStyle:{width:"50%",float:"left"}},[a("div",{staticClass:"product-item",class:{pleft:s%2==1,pright:s%2==0},on:{click:function(s){t.Href(e.ruleId)}}},[a("div",{staticClass:"pic_container"},[a("div",{staticClass:"pic_dummy"}),t._v(" "),a("img",{staticClass:"product-image pic_content",attrs:{alt:"",src:e.productPic}}),t._v(" "),null!=e.tagUrl&&""!=e.tagUrl?a("img",{staticClass:"product-tag",attrs:{src:e.tagUrl}}):t._e()]),t._v(" "),a("div",{staticClass:"product-name pl05"},[t._v(t._s(e.ruleName))]),t._v(" "),a("div",{staticClass:"mt1 pl05"},[a("span",{staticClass:"highlight fs20"},[t._v("¥ "+t._s(e.price)+" ")]),t._v(" "),a("span",{staticClass:"ori-price"},[a("del",[t._v("¥ "+t._s(e.oriPrice)+" ")])]),t._v(" "),a("span",{staticClass:"product-discount"},[t._v(t._s(e.discount))])])])])}),t._v(" "),a("div",{staticStyle:{clear:"both"}})],2)],2),t._v(" "),a("div",{staticStyle:{height:"60px",clear:"both"}})]),t._v(" "),a("Footer")],1)},staticRenderFns:[]};var r=function(t){s("b41S")},n=s("VU/8")(a.a,i,!1,r,"data-v-c0f1f1be",null);e.default=n.exports},KOyn:function(t,e,s){"use strict";(function(t){var a=s("2NXm"),i=void 0,r=!0,n=!1;e.a={data:function(){return{load:!0,hidden:!1,phoneErro:!1,temais:[],currentType:7,type:this.$route.query.type,page:0,banners:[],titles:[]}},created:function(){(i=this).flush()},mounted:function(){i.getBannerType(),i.queryProducts()},components:{Footer:a.a},methods:{flush:function(){1==this.$route.query.flush&&(r=!0,n=!1)},initSession4Test:function(){i.receiveData.getData(i,"/initSession4Test/79185","Data",function(){})},getBannerType:function(){i.receiveData.getData(i,"banner/6","res",function(){i.res.success?i.banners=i.res.result:alert("获取banner异常")}),i.receiveData.getData(i,"banner/5","res",function(){i.res.success?i.titles=i.res.result:alert("获取banner异常")})},queryProducts:function(){i.currentType!=i.type&&(i.currentType=i.type,i.query())},query:function(){null==i.currentType&&(i.currentType=100);var t="onsales/"+i.currentType+"/"+i.page;this.common.invokeApi("GET",t,null,null,function(t){i.temais=t.result,i.load=!1,i.page++},function(){i.load=!1,i.temais=[]})},Href:function(t){i.$router.push({path:"/onsaledetail",query:{ruleId:t,type:i.currentType}})},getscroll:function(e){var s=e.srcElement.scrollTop;t("#indexDiv").height()-s<800&&r&&!n&&(n=!0,i.hidden=!0,i.loadNextPage())},loadNextPage:function(){var t="onsales/"+i.currentType+"/"+i.page;i.receiveData.getData(i,t,"Data",function(){i.Data.success?null==i.Data.result||0==i.Data.result.length?(i.hidden=!1,r=!1,n=!1,i.phoneErro=!0,setTimeout(function(){i.phoneErro=!1},1e3)):(n=!1,i.hidden=!1,i.temais=i.temais.concat(i.Data.result),i.page++):(n=!1,alert("加载特卖信息失败"))})}},computed:{}}}).call(e,s("7t+N"))},b41S:function(t,e){}});