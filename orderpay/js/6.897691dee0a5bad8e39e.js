webpackJsonp([6],{aMnh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("fxnj"),r=s.n(n),a=(s("Au9i"),void 0),i={data:function(){return{amount:"",paying:!1,orderId:this.$route.query.orderId}},created:function(){a=this},mounted:function(){},components:{},methods:{storeMemo:function(e){a.amount=e.srcElement.innerText},onlinePay:function(){if(!a.orderId||a.orderId<=0)alert("页面错误，请到订单详情页重新发起支付！");else{var e=a.amount;""==e||isNaN(e)?alert("请输入正确金额"):a.onlinePays()}},onlinePays:function(){a.orderId,a.amount;a.receiveData.postData(a,"/customService/order/pay?orderId="+a.orderId+"&amount="+a.amount,{},"res",function(){a.res.success?(r.a.config({debug:!1,appId:a.res.result.appId,timestamp:a.res.result.timestamp,nonceStr:a.res.result.nonceStr,signature:a.res.result.signature,jsApiList:["chooseWXPay"]}),r.a.chooseWXPay({timestamp:a.res.result.timestamp,nonceStr:a.res.result.nonceStr,package:a.res.result.pkgStr,signType:a.res.result.signType,paySign:a.res.result.signature,success:function(e){alert("支付成功！"),a.$router.push({path:"/appraise",query:{ordersID:a.orderId}})},fail:function(e){a.paying=!1},cancel:function(e){alert("支付取消"),a.paying=!1}})):(alert(null==a.res.message?"支付请求失败，请稍后重试!":a.res.message),a.paying=!1)})}},computed:{}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"repay"},[s("div",{staticClass:"title-top"},[e._v("服务已完工，请支付费用")]),e._v(" "),s("div",{staticClass:"title-mid lite-divider"},[s("div",{staticClass:"title-mid-top"},[e._v("请输入费用（元）")]),e._v(" "),s("div",{staticClass:"title-mid-bottom",class:{hasvalue:""!=e.amount},attrs:{contenteditable:"true"},on:{blur:e.storeMemo}})]),e._v(" "),s("div",{staticClass:"main_btn"},[s("div",{staticClass:"btn",class:{useless:e.paying},on:{click:e.onlinePay}},[e._v("立即微信支付")])])])},staticRenderFns:[]};var u=s("VU/8")(i,o,!1,function(e){s("e8bU")},"data-v-ce3df6d6",null);t.default=u.exports},e8bU:function(e,t){}});