webpackJsonp([20],{USIB:function(i,t){},uTIO:function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("fxnj"),o=e.n(s),c=void 0,a=void 0,l={data:function(){return{orderId:this.$route.query.orderId,logisticType:3,logisticNamecode:"",logisticNo:"",logisticList:[]}},created:function(){c=this},components:{},computed:{},watch:{logisticNo:function(i,t){c.show()}},mounted:function(){var i=location.href.split("#")[0];c.receiveData.wxconfig(c,o.a,["scanQRCode","getLocation"],i)},methods:{show:function(){c.receiveData.scan(c,o.a,"logisticNo")},shousuo:function(){var i=this;a&&clearTimeout(a),a=setTimeout(function(){""!=c.logisticNo&&i.logistics()},400)},logistics:function(){c.receiveData.getData(c,"/logistics/"+c.logisticNo,"res",function(){c.res.success?(c.logisticList=c.res.result,1==c.logisticList.length?(console.log(111),c.logisticNamecode=c.logisticList[0].name):c.logisticList.length>1?alert("未准确查询到对应物流公司，请选择"):(c.logisticList.push({code:null,createDate:null,id:null,name:"其他"}),c.logisticNamecode=c.logisticList[0].name)):alert(null==c.res.message?"请稍后重试！":c.res.message)})},getCouponSelected:function(){},fixScroll:function(){!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&window.scrollTo(0,0)},logis:function(){for(var i="",t=0;t<c.logisticList.length;t++)c.logisticNamecode==c.logisticList[t].name&&(i=c.logisticList[t].code);var e={orderId:c.orderId,logisticType:c.logisticType,logisticNo:c.logisticNo,logisticCode:i,logisticName:c.logisticNamecode};c.receiveData.postData(c,"/logistics/save",e,"res",function(){c.res.success?c.$router.push({path:"/consignment",query:{orderId:c.orderId}}):alert(c.res.message)})}}},n={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"delivery"},[e("div",{staticClass:"outside"},[e("div",{staticClass:"title"},[i._v("\r\n            发货方式\r\n        ")]),i._v(" "),e("div",{staticClass:"logis ov"},[e("div",{staticClass:"fl posi"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.logisticType,expression:"logisticType"}],attrs:{type:"radio",id:"logistics",name:"logistics",value:"2"},domProps:{checked:i._q(i.logisticType,"2")},on:{change:function(t){i.logisticType="2"}}}),i._v(" "),e("label",{staticClass:"fors",attrs:{for:"logistics"}},[e("i",{staticClass:"devrad",class:{devradi:2==i.logisticType,devrad2:2==i.logisticType}}),i._v("需要物流")])]),i._v(" "),e("div",{staticClass:"fl posi"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.logisticType,expression:"logisticType"}],attrs:{type:"radio",id:"business",name:"logistics",value:"0"},domProps:{checked:i._q(i.logisticType,"0")},on:{change:function(t){i.logisticType="0"}}}),i._v(" "),e("label",{attrs:{for:"business"}},[i._v("商家配送"),e("i",{staticClass:"devrad",class:{devradi:0==i.logisticType,devrad2:0==i.logisticType}})])])]),i._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"main-type"},[i._v("运单号:")]),i._v(" "),e("div",{staticClass:"main-yun"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.logisticNo,expression:"logisticNo"}],attrs:{type:"text",placeholder:"单行输入"},domProps:{value:i.logisticNo},on:{input:[function(t){t.target.composing||(i.logisticNo=t.target.value)},function(t){i.shousuo()}],blur:i.fixScroll}}),i._v(" "),e("div",{staticClass:"scan-icon",on:{click:i.show}})])]),i._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"main-type"},[i._v("请选择快递公司")]),i._v(" "),e("div",{staticClass:"main-sele"},[e("select",{directives:[{name:"model",rawName:"v-model",value:i.logisticNamecode,expression:"logisticNamecode"}],attrs:{name:"",id:""},on:{blur:i.fixScroll,change:function(t){var e=Array.prototype.filter.call(t.target.options,function(i){return i.selected}).map(function(i){return"_value"in i?i._value:i.value});i.logisticNamecode=t.target.multiple?e:e[0]}}},i._l(i.logisticList,function(t,s){return e("option",{key:s,attrs:{logisindex:t.index},domProps:{value:t.name},on:{change:i.getCouponSelected}},[i._v(i._s(t.name))])})),i._v(" "),e("div",{staticClass:"fang iconfont icon-sousuo"})])]),i._v(" "),e("div",{staticStyle:{height:"1rem"}}),i._v(" "),e("div",{staticClass:"btn",on:{click:i.logis}},[i._v("\r\n            确定发货\r\n        ")])])])},staticRenderFns:[]};var r=e("VU/8")(l,n,!1,function(i){e("USIB")},"data-v-1db0b771",null);t.default=r.exports}});