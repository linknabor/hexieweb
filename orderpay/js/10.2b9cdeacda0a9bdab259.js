webpackJsonp([10],{aMnh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("fxnj"),r=s.n(a),n=(s("Au9i"),void 0),i={data:function(){return{amount:"",paying:!1,orderId:this.$route.query.orderId}},created:function(){n=this},mounted:function(){},components:{},methods:{storeMemo:function(e){n.amount=e.srcElement.innerText},onlinePay:function(){if(!n.orderId||n.orderId<=0)alert("页面错误，请到订单详情页重新发起支付！");else{var e=n.amount;""==e||isNaN(e)?alert("请输入正确金额"):n.onlinePays()}},onlinePays:function(){n.orderId,n.amount;n.receiveData.postData(n,"/customService/order/pay?orderId="+n.orderId+"&amount="+n.amount,{},"res",function(){n.res.success?(r.a.config({debug:!1,appId:n.res.result.appid,timestamp:n.res.result.timestamp,nonceStr:n.res.result.noncestr,signature:n.res.result.paysign,jsApiList:["chooseWXPay"]}),r.a.chooseWXPay({timestamp:n.res.result.timestamp,nonceStr:n.res.result.noncestr,package:n.res.result.package,signType:n.res.result.signtype,paySign:n.res.result.paysign,success:function(e){alert("支付成功！"),n.$router.push({path:"/appraise",query:{ordersID:n.orderId}})},fail:function(e){n.paying=!1},cancel:function(e){n.paycancel(),alert("支付取消"),n.paying=!1}})):(alert(null==n.res.message?"支付请求失败，请稍后重试!":n.res.message),n.paying=!1)})},paycancel:function(){n.receiveData.postData(n,"customService/order/cancelPay?orderId="+n.orderId,null,"res",function(){n.res.success?alert("成功"):alert(n.res.message)})}},computed:{}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"repay"},[s("div",{staticClass:"title-top"},[e._v("服务已完工，请支付费用")]),e._v(" "),s("div",{staticClass:"title-mid lite-divider"},[s("div",{staticClass:"title-mid-top"},[e._v("请输入费用（元）")]),e._v(" "),s("div",{staticClass:"title-mid-bottom",class:{hasvalue:""!=e.amount},attrs:{contenteditable:"true"},on:{blur:e.storeMemo}})]),e._v(" "),s("div",{staticClass:"main_btn"},[s("div",{staticClass:"btn",class:{useless:e.paying},on:{click:e.onlinePay}},[e._v("立即微信支付")])])])},staticRenderFns:[]};var c=s("VU/8")(i,o,!1,function(e){s("jKK4")},"data-v-3814ce52",null);t.default=c.exports},jKK4:function(e,t){}});