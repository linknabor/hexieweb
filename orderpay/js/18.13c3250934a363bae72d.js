webpackJsonp([18],{f8yx:function(i,t){},uTIO:function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("fxnj"),o=e.n(s),a=void 0,c=void 0,l={data:function(){return{orderId:this.$route.query.orderId,logisticType:3,logisticNamecode:"",logisticNo:"",logisticList:[]}},created:function(){a=this},components:{},computed:{},watch:{logisticNo:function(i,t){a.shousuo()}},mounted:function(){var i=location.href.split("#")[0];a.receiveData.wxconfig(a,o.a,["scanQRCode","getLocation"],i)},methods:{show:function(){a.receiveData.scan(a,o.a,"logisticNo")},shousuo:function(){var i=this;c&&clearTimeout(c),c=setTimeout(function(){""!=a.logisticNo&&i.logistics()},400)},logistics:function(){a.receiveData.getData(a,"/logistics/"+a.logisticNo,"res",function(){a.res.success?(a.logisticList=a.res.result,1==a.logisticList.length?(console.log(111),a.logisticNamecode=a.logisticList[0].name):a.logisticList.length>1?alert("未准确查询到对应物流公司，请选择"):(a.logisticList.push({code:null,createDate:null,id:null,name:"其他"}),a.logisticNamecode=a.logisticList[0].name)):alert(null==a.res.message?"请稍后重试！":a.res.message)})},getCouponSelected:function(){},fixScroll:function(){!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&window.scrollTo(0,0)},logis:function(){for(var i="",t=0;t<a.logisticList.length;t++)a.logisticNamecode==a.logisticList[t].name&&(i=a.logisticList[t].code);var e={orderId:a.orderId,logisticType:a.logisticType,logisticNo:a.logisticNo,logisticCode:i,logisticName:a.logisticNamecode};a.receiveData.postData(a,"/logistics/save",e,"res",function(){a.res.success?a.$router.push({path:"/consignment",query:{orderId:a.orderId}}):alert(a.res.message)})}}},n={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"delivery"},[e("div",{staticClass:"outside"},[e("div",{staticClass:"title"},[i._v("\r\n            发货方式\r\n        ")]),i._v(" "),e("div",{staticClass:"logis ov"},[e("div",{staticClass:"fl posi"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.logisticType,expression:"logisticType"}],attrs:{type:"radio",id:"logistics",name:"logistics",value:"2"},domProps:{checked:i._q(i.logisticType,"2")},on:{change:function(t){i.logisticType="2"}}}),i._v(" "),e("label",{staticClass:"fors",attrs:{for:"logistics"}},[e("i",{staticClass:"devrad",class:{devradi:2==i.logisticType,devrad2:2==i.logisticType}}),i._v("需要物流")])]),i._v(" "),e("div",{staticClass:"fl posi"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.logisticType,expression:"logisticType"}],attrs:{type:"radio",id:"business",name:"logistics",value:"0"},domProps:{checked:i._q(i.logisticType,"0")},on:{change:function(t){i.logisticType="0"}}}),i._v(" "),e("label",{attrs:{for:"business"}},[i._v("商家配送"),e("i",{staticClass:"devrad",class:{devradi:0==i.logisticType,devrad2:0==i.logisticType}})])])]),i._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"main-type"},[i._v("运单号:")]),i._v(" "),e("div",{staticClass:"main-yun"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.logisticNo,expression:"logisticNo"}],attrs:{type:"text",placeholder:"单行输入"},domProps:{value:i.logisticNo},on:{blur:i.fixScroll,input:function(t){t.target.composing||(i.logisticNo=t.target.value)}}}),i._v(" "),e("div",{staticClass:"scan-icon",on:{click:i.show}})])]),i._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"main-type"},[i._v("请选择快递公司")]),i._v(" "),e("div",{staticClass:"main-sele"},[e("select",{directives:[{name:"model",rawName:"v-model",value:i.logisticNamecode,expression:"logisticNamecode"}],attrs:{name:"",id:""},on:{blur:i.fixScroll,change:function(t){var e=Array.prototype.filter.call(t.target.options,function(i){return i.selected}).map(function(i){return"_value"in i?i._value:i.value});i.logisticNamecode=t.target.multiple?e:e[0]}}},i._l(i.logisticList,function(t,s){return e("option",{key:s,attrs:{logisindex:t.index},domProps:{value:t.name},on:{change:i.getCouponSelected}},[i._v(i._s(t.name))])})),i._v(" "),e("div",{staticClass:"fang iconfont icon-sousuo"})])]),i._v(" "),e("div",{staticStyle:{height:"1rem"}}),i._v(" "),e("div",{staticClass:"btn",on:{click:i.logis}},[i._v("\r\n            确定发货\r\n        ")])])])},staticRenderFns:[]};var r=e("VU/8")(l,n,!1,function(i){e("f8yx")},"data-v-2a3a7b3c",null);t.default=r.exports}});