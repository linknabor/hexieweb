webpackJsonp([2],{"/0gC":function(e,r,t){"use strict";function n(e){t("w2sD")}Object.defineProperty(r,"__esModule",{value:!0});var a=t("mX1n"),i=t("BER+"),o=t("VU/8"),c=n,u=o(a.a,i.a,!1,c,"data-v-0c1cc0ce",null);r.default=u.exports},"BER+":function(e,r,t){"use strict";var n=function(){var e=this,r=e.$createElement;return(e._self._c||r)("div")},a=[],i={render:n,staticRenderFns:a};r.a=i},L2QS:function(e,r,t){r=e.exports=t("FZ+f")(!1),r.push([e.i,"",""])},mX1n:function(e,r,t){"use strict";var n=t("fxnj"),a=t.n(n),i=void 0,o=t("xrTZ").Base64;r.a={data:function(){return{billId:"",payFeeType:"",payType:"",reduceAmt:"",reductionAmt:"",ruleType:"",stmtId:"",regionname:"",openid:"",user_id:""}},beforeCreate:function(){},created:function(){i=this,i.query()},beforeMount:function(){},mounted:function(){i.getorder()},components:{},computed:{},methods:{IsWeixinOrAlipay:function(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)?"WeiXin":"alipayclient"==e.match(/AlipayClient/i)?"Alipay":"false"},query:function(){var e=i.IsWeixinOrAlipay();if("Alipay"===e)i.common.alipayAuthorize();else{if("WeiXin"!==e)return alert("请用微信或支付扫码支付"),!1;i.common.weixinAuthorize()}},getorder:function(){var e=window.location.search.substr(1),r=i.getParam(e,"openid"),t=i.getParam(e,"user_id");null==r&&null==t||(i.getUrlParam(),i.pay())},getUrlParam:function(){var e={},r=window.location.search.substr(1),t=i.getParam(r,"param");t=o.decode(t);for(var n=t.split("&"),a=0;a<n.length;a++)e[n[a].split("=")[0]]=unescape(n[a].split("=")[1]);i.billId=e.bill_id,i.payFeeType=e.pay_fee_type,i.payType=e.pay_type,i.reduceAmt=e.reduceAmt,i.reductionAmt=e.reduction_amt,i.ruleType=e.rule_type,i.stmtId=e.stmt_id,i.regionname=e.regionname,i.openid=i.getParam(r,"openid"),i.user_id=i.getParam(r,"user_id")},pay:function(){var e=i.IsWeixinOrAlipay();if("false"===e)return void alert("请使用微信或支付宝扫码支付");var r={},t=void 0;r.isQrcode="1",r.billId=i.billId,r.payFeeType=i.payFeeType,r.payType=i.payType,r.reduceAmt=i.reduceAmt,r.reductionAmt=i.reductionAmt,r.ruleType=i.ruleType,r.stmtId=i.stmtId,r.regionname=i.regionname,"Alipay"===e?(t="/getPrePayInfoAlipay",r.alipayUserId=i.user_id,r.appid=i.$route.query.app_id):"WeiXin"===e&&(t="/getPrePayInfo",r.openid=i.openid),alert(r.alipayUserId),i.receiveData.postData(i,t,r,"res",function(){if(alert(i.res.errorCode),i.res.success){if("Alipay"===e){if(alert("123"),0==i.res.success)return void alert(i.res.message);var r=i.res.result.packageId;alert(r),ap.tradePay({tradeNo:r},function(e){"9000"===e.resultCode&&ap.call("closeWebview")})}else if("WeiXin"===e){if(0==i.res.success)return void alert(i.res.message);a.a.config({debug:!1,appId:i.res.result.appid,timestamp:i.res.result.timestamp,nonceStr:i.res.result.noncestr,signature:i.res.result.paysign,jsApiList:["chooseWXPay"]}),a.a.chooseWXPay({appId:i.res.result.appid,timestamp:i.res.result.timestamp,nonceStr:i.res.result.noncestr,package:i.res.result.package,signType:i.res.result.signtype,paySign:i.res.result.paysign,success:function(e){a.a.closeWindow()},fail:function(){},cancel:function(){}})}}else alert(null==i.res.message?"支付请求失败，请稍后重试!":i.res.message)})}}}},w2sD:function(e,r,t){var n=t("L2QS");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("7f56c3ad",n,!0)},xrTZ:function(e,r,t){(function(t){var n,a;!function(r,t){e.exports=t(r)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:this,function(t){"use strict";t=t||{};var i,o=t.Base64,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=function(e){for(var r={},t=0,n=e.length;t<n;t++)r[e.charAt(t)]=t;return r}(c),s=String.fromCharCode,p=function(e){if(e.length<2){var r=e.charCodeAt(0);return r<128?e:r<2048?s(192|r>>>6)+s(128|63&r):s(224|r>>>12&15)+s(128|r>>>6&63)+s(128|63&r)}var r=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return s(240|r>>>18&7)+s(128|r>>>12&63)+s(128|r>>>6&63)+s(128|63&r)},l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(e){return e.replace(l,p)},f=function(e){var r=[0,2,1][e.length%3],t=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[c.charAt(t>>>18),c.charAt(t>>>12&63),r>=2?"=":c.charAt(t>>>6&63),r>=1?"=":c.charAt(63&t)].join("")},y=t.btoa&&"function"==typeof t.btoa?function(e){return t.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,f)},g=function(e){return y(d(String(e)))},m=function(e){return e.replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,"")},h=function(e,r){return r?m(g(e)):g(e)},A=function(e){return h(e,!0)};t.Uint8Array&&(i=function(e,r){for(var t="",n=0,a=e.length;n<a;n+=3){var i=e[n],o=e[n+1],u=e[n+2],s=i<<16|o<<8|u;t+=c.charAt(s>>>18)+c.charAt(s>>>12&63)+(void 0!==o?c.charAt(s>>>6&63):"=")+(void 0!==u?c.charAt(63&s):"=")}return r?m(t):t});var v,x=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,b=function(e){switch(e.length){case 4:var r=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),t=r-65536;return s(55296+(t>>>10))+s(56320+(1023&t));case 3:return s((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return s((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},C=function(e){return e.replace(x,b)},B=function(e){var r=e.length,t=r%4,n=(r>0?u[e.charAt(0)]<<18:0)|(r>1?u[e.charAt(1)]<<12:0)|(r>2?u[e.charAt(2)]<<6:0)|(r>3?u[e.charAt(3)]:0),a=[s(n>>>16),s(n>>>8&255),s(255&n)];return a.length-=[0,0,2,1][t],a.join("")},F=t.atob&&"function"==typeof t.atob?function(e){return t.atob(e)}:function(e){return e.replace(/\S{1,4}/g,B)},w=function(e){return F(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},I=function(e){return C(F(e))},P=function(e){return String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},_=function(e){return I(P(e))};t.Uint8Array&&(v=function(e){return Uint8Array.from(w(P(e)),function(e){return e.charCodeAt(0)})});var S=function(){var e=t.Base64;return t.Base64=o,e};if(t.Base64={VERSION:"2.6.3",atob:w,btoa:y,fromBase64:_,toBase64:h,utob:d,encode:h,encodeURI:A,btou:C,decode:_,noConflict:S,fromUint8Array:i,toUint8Array:v},"function"==typeof Object.defineProperty){var T=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",T(function(){return _(this)})),Object.defineProperty(String.prototype,"toBase64",T(function(e){return h(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",T(function(){return h(this,!0)}))}}return t.Meteor&&(Base64=t.Base64),void 0!==e&&e.exports?e.exports.Base64=t.Base64:(n=[],void 0!==(a=function(){return t.Base64}.apply(r,n))&&(e.exports=a)),{Base64:t.Base64}})}).call(r,t("DuR2"))}});