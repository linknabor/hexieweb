webpackJsonp([4],{"5XJs":function(t,s){},SRPM:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("fxnj"),a=e.n(i),n=void 0,r={data:function(){return{orderList:[],inited:!1}},created:function(){n=this},mounted:function(){var t=location.href.split("#")[0];n.receiveData.wxconfig(n,a.a,["chooseWXPay","onMenuShareTimeline","onMenuShareAppMessage"],t),n.query()},methods:{query:function(){n.receiveData.postData(n,"/yunxiyi/bills/0",null,"res",function(){n.res.success?(n.orderList=n.res.result,n.inited=!0):(n.inited=!0,alert("订单数据获取失败，请稍后重试！"))})},gotoPage:function(){n.$router.push({path:"/"})},gotoDetail:function(t){n.orderList[t].status<8&&n.$router.push({path:"/xiyi_detail",query:{oId:n.orderList[t].id}})},cancel:function(t){n.receiveData.postData(n,"/yunxiyi/bill/"+n.orderList[t].id+"/cancel",null,"res",function(){n.res.success?(n.orderList[t].status=8,n.orderList[t].statusStr="已取消"):alert(n.res.message?"订单取消失败，请稍后重试！":n.res.message)})},pay:function(t){n.receiveData.postData(n,"/yunxiyi/pay/"+n.orderList[t].id,null,"res",function(){n.res.success?a.a.chooseWXPay({timestamp:n.res.result.timestamp,nonceStr:n.res.result.nonceStr,package:n.res.result.pkgStr,signType:n.res.result.signType,paySign:n.res.result.signature,success:function(s){n.notifyPayed(t)}}):alert(n.res.message?"支付请求失败，请稍后重试！":n.res.message)})},notifyPayed:function(t){var s="/yunxiyi/notifyPayed/"+n.orderList[t].id;n.receiveData.getData(n,s,"Data",function(){n.orderList[t].statusStr="已支付",n.orderList[t].status=2})}},components:{},computed:{}},o={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"xiyi_list"},[0==t.orderList.length&&t.inited?i("div",{staticClass:"nopage"},[i("img",{staticClass:"nopage_img",attrs:{src:e("WQ8D")}}),t._v(" "),i("div",{staticClass:"nopage_desc"},[t._v("您还没有订单哦！")]),t._v(" "),i("div",{staticClass:"btn_desc"},[t._v("点击下方按钮立即预约")]),t._v(" "),i("div",{staticClass:"order_btn",on:{click:function(s){t.gotoPage()}}},[t._v("立即预约")])]):t._e(),t._v(" "),t.orderList.length>0?i("div",t._l(t.orderList,function(s,e){return i("div",{key:s.id,staticClass:"list_body",on:{click:function(s){t.gotoDetail(e)}}},[i("p",{staticClass:"borderline"}),t._v(" "),i("div",{staticClass:"time_desc"},[t._v("下单时间: "+t._s(s.createDateStr))]),t._v(" "),i("div",{staticClass:"list_main"},[i("img",{staticClass:"item_logo",attrs:{src:s.billLogo,alt:""}}),t._v(" "),i("div",{staticClass:"item_desc"},[t._v("订单编号: ")]),i("div",{staticClass:"item_desc"},[t._v(t._s(s.orderNo))]),t._v(" "),i("div",{staticClass:"item_desc"},[t._v("取件时间: "+t._s(s.serviceDateStr))]),t._v(" "),i("div",{staticClass:"item_desc highlight"},[t._v(t._s(s.statusStr))])]),t._v(" "),i("div",{staticClass:"status_bar"},[i("span",[t._v("实际支付: "),i("span",{staticStyle:{color:"#ff8a00"}},[t._v(t._s(s.realAmount)+"元")])]),t._v(" "),i("p",{staticClass:"fr btns"},[1==s.status?i("span",{staticClass:"cancel",on:{click:function(s){s.stopPropagation(),t.cancel(e)}}},[t._v("取消订单")]):t._e(),t._v(" "),1==s.status?i("span",{staticClass:"pay",on:{click:function(s){s.stopPropagation(),t.pay(e)}}},[t._v("付款")]):t._e()])])])}),0):t._e()])},staticRenderFns:[]};var c=e("VU/8")(r,o,!1,function(t){e("5XJs")},"data-v-29215bb2",null);s.default=c.exports},WQ8D:function(t,s,e){t.exports=e.p+"xiyipay/img/noorder.7bb5098.png"}});
//# sourceMappingURL=4.bc55e2f15f540b7cd82c.js.map