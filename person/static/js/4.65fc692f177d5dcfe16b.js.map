{"version":3,"sources":["webpack:///./src/pages/communities/threadDetail.vue?f4bc","webpack:///./src/pages/communities/threadDetail.vue","webpack:///src/pages/communities/threadDetail.vue","webpack:///./static/community/icon_time_gray.png"],"names":["communities_threadDetail","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","display","position","attrs","id","on","click","hideImg","_v","z-index","padding-top","src","thread","userHead","_s","userName","_l","thumbnailurl","index","$event","viewSrcImg","threadId","color","word-break","word-wrap","threadContent","line-height","width","height","__webpack_require__","formattedDateTime","directives","name","rawName","value","isThreadOwner","expression","text-align","delThread","_m","comment","i","min-height","float","overflow","commentUserHead","commentUserName","commentContent","fmtCommentDateTime","ms-visible","delComment","top","background-color","border","margin-left","placeholder","domProps","input","target","composing","saveComment","staticRenderFns","font-size","__vue_styles__","ssrContext","Component","normalizeComponent","threadDetail","__webpack_exports__","vm","data","comments","comments_count","imgUrls","thumbnailurls","created","mounted","getThread","components","methods","receiveData","postData","$route","query","res","success","result","length","imgUrlLink","thumbnailLink","updateUnreadComments","userId","alert","$router","push","path","message","ad","commentId","splice","ads","refreshImages","url","getData","map","imgUrl","srcWidth","srcHeight","parseInt","html","$","show","window","document","screenHeight","screenWidth","adjHeight","adjWidth","hasLeft","left","css","hide","computed","module","exports"],"mappings":"uHAGAA,GADiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,QAAkBF,EAAA,OAAYE,YAAA,OAAAC,aAAgCC,QAAA,OAAAC,SAAA,SAAoCC,OAAQC,GAAA,QAAYC,IAAKC,MAAAb,EAAAc,WAAqBd,EAAAe,GAAA,KAAAX,EAAA,OAAwBE,YAAA,UAAAC,aAAmCC,QAAA,QAAAC,SAAA,QAAAO,UAAA,cAA4DN,OAAQC,GAAA,WAAeC,IAAKC,MAAAb,EAAAc,WAAqBd,EAAAe,GAAA,KAAAX,EAAA,OAAwBE,YAAA,oBAAAC,aAA6CU,cAAA,UAAsBb,EAAA,OAAYE,YAAA,OAAiBF,EAAA,OAAYE,YAAA,0BAAAI,OAA6CQ,IAAAlB,EAAAmB,OAAAC,cAA2BpB,EAAAe,GAAA,KAAAX,EAAA,OAA0BE,YAAA,qBAA+BN,EAAAe,GAAAf,EAAAqB,GAAArB,EAAAmB,OAAAG,eAAAtB,EAAAe,GAAA,KAAAX,EAAA,OAAgEE,YAAA,gBAA2BN,EAAAuB,GAAAvB,EAAA,uBAAAwB,EAAAC,GAAyD,OAAArB,EAAA,UAAkBA,EAAA,OAAYE,YAAA,eAAAM,IAA+BC,MAAA,SAAAa,GAAyB1B,EAAA2B,WAAA3B,EAAAmB,OAAAS,SAAAH,OAA4CrB,EAAA,OAAYE,YAAA,oBAAAI,OAAuCQ,IAAAM,YAA0BxB,EAAAe,GAAA,KAAAX,EAAA,OAAyBE,YAAA,qBAAAC,aAA8CsB,MAAA,UAAAC,aAAA,YAAAC,YAAA,gBAAqE/B,EAAAe,GAAAf,EAAAqB,GAAArB,EAAAmB,OAAAa,kBAAAhC,EAAAe,GAAA,KAAAX,EAAA,OAAmEE,YAAA,uBAAAC,aAAgDsB,MAAA,UAAAI,cAAA,UAAwC7B,EAAA,OAAYG,aAAa2B,MAAA,OAAAC,OAAA,QAA+BzB,OAAQQ,IAAAkB,EAAA,WAA+DpC,EAAAe,GAAA,IAAAf,EAAAqB,GAAArB,EAAAmB,OAAAkB,mBAAA,gBAAArC,EAAAe,GAAA,KAAAX,EAAA,OAAwFkC,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAA,QAAAzC,EAAAmB,OAAAuB,cAAAC,WAAA,mCAAoHrC,YAAA,0BAAsCF,EAAA,OAAYE,YAAA,YAAAC,aAAqCsB,MAAA,UAAAe,aAAA,QAAAX,cAAA,QAA4DrB,IAAKC,MAAAb,EAAA6C,aAAuB7C,EAAAe,GAAA,UAAAf,EAAAe,GAAA,KAAAX,EAAA,OAAyCE,YAAA,iBAA2BN,EAAAe,GAAA,OAAAf,EAAAe,GAAA,KAAAf,EAAA8C,GAAA,GAAA9C,EAAAe,GAAA,KAAAf,EAAAuB,GAAAvB,EAAA,kBAAA+C,EAAAC,GAA4F,OAAA5C,EAAA,OAAiBE,YAAA,sBAAgCF,EAAA,OAAYE,YAAA,OAAAC,aAAgC2B,MAAA,OAAAe,aAAA,QAAAC,MAAA,OAAAC,SAAA,YAAwE/C,EAAA,OAAYE,YAAA,eAAAC,aAAwC2B,MAAA,SAAe9B,EAAA,OAAYE,YAAA,2BAAAI,OAA8CQ,IAAA6B,EAAAK,qBAA+BpD,EAAAe,GAAA,KAAAX,EAAA,OAA0BE,YAAA,KAAAC,aAA8B2B,MAAA,SAAe9B,EAAA,OAAYE,YAAA,uBAAiCN,EAAAe,GAAAf,EAAAqB,GAAA0B,EAAAM,oBAAArD,EAAAe,GAAA,KAAAX,EAAA,OAAkEE,YAAA,OAAAC,aAAgCsB,MAAA,UAAAE,YAAA,aAAAoB,SAAA,YAAgEnD,EAAAe,GAAAf,EAAAqB,GAAA0B,EAAAO,mBAAAtD,EAAAe,GAAA,KAAAX,EAAA,OAAiEE,YAAA,oBAAAC,aAA6CsB,MAAA,UAAgBzB,EAAA,OAAYG,aAAa2B,MAAA,QAAexB,OAAQQ,IAAAkB,EAAA,WAA+DpC,EAAAe,GAAA,IAAAf,EAAAqB,GAAA0B,EAAAQ,uBAAAvD,EAAAe,GAAA,KAAAX,EAAA,OAAyEE,YAAA,YAAAC,aAAqCsB,MAAA,aAAmBzB,EAAA,OAAYE,YAAA,KAAAI,OAAwB8C,aAAA,sCAAiDpD,EAAA,OAAYE,YAAA,YAAAC,aAAqCsB,MAAA,OAAAe,aAAA,SAAoChC,IAAKC,MAAA,SAAAa,GAAyB1B,EAAAyD,WAAAV,EAAAC,OAA4BhD,EAAAe,GAAA,YAAAf,EAAAe,GAAA,KAAAX,EAAA,OAA2CE,YAAA,OAAiBN,EAAAe,GAAA,SAAAf,EAAAe,GAAA,KAAAX,EAAA,OAAwCE,YAAA,2BAAAC,aAAoD2B,MAAA,UAAgBlC,EAAAe,GAAA,aAAoBf,EAAAe,GAAA,KAAAX,EAAA,OAAwBE,YAAA,KAAAC,aAA8BmD,IAAA,OAAAC,mBAAA,QAAAzB,MAAA,MAAAU,aAAA,SAAAgB,OAAA,MAAAC,cAAA,MAA8GnD,OAAQC,GAAA,WAAcP,EAAA,YAAiBkC,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAzC,EAAA,eAAA2C,WAAA,mBAAsFrC,YAAA,6BAAAI,OAAkD6B,KAAA,kBAAAuB,YAAA,MAA4CC,UAAWtB,MAAAzC,EAAA,gBAA6BY,IAAKoD,MAAA,SAAAtC,GAAyBA,EAAAuC,OAAAC,YAAsClE,EAAAsD,eAAA5B,EAAAuC,OAAAxB,WAAyCzC,EAAAe,GAAA,KAAAX,EAAA,OAAwBE,YAAA,wBAAAC,aAAiD2B,MAAA,MAAAL,MAAA,SAA8BjB,IAAKC,MAAAb,EAAAmE,eAAyBnE,EAAAe,GAAA,eAEl9HqD,iBADjB,WAAoC,IAAalE,EAAbD,KAAaE,eAA0BC,EAAvCH,KAAuCI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,sCAAAI,OAAyDC,GAAA,oBAAuBP,EAAA,OAAYE,YAAA,KAAAC,aAA8B0B,cAAA,OAAAJ,MAAA,OAAAwC,YAAA,UAA1MpE,KAAkQc,GAAA,aCEtS,IASAuD,EAZA,SAAAC,GACAnC,EAAA,SAgBAoC,EAdApC,EAAA,OAcAqC,CACAC,EAAA,EACA5E,GATA,EAWAwE,EAPA,kBAEA,MAUAK,EAAA,QAAAH,EAAA,wDCwCA,IAAAI,OAAA,EACAD,EAAA,GACAE,KADA,WAEA,OACA1D,UACA2D,YACAC,eAAA,EACAC,WACAC,iBACA3B,eAAA,KAGA4B,QAXA,WAYAN,EAAA3E,MAEAkF,QAdA,WAeAP,EAAAQ,aAGAC,cAEAC,SACAF,UADA,WAEAR,EAAAW,YAAAC,SAAAZ,EAAA,8BAAAhD,SAAAgD,EAAAa,OAAAC,MAAA9D,UAAA,iBACAgD,EAAAe,IAAAC,UACAhB,EAAAzD,OAAAyD,EAAAe,IAAAE,OACAjB,EAAAE,SAAAF,EAAAzD,OAAA2D,SACAF,EAAAG,eAAAH,EAAAE,SAAAgB,OACAlB,EAAAI,QAAAJ,EAAAzD,OAAA4E,WACAnB,EAAAK,cAAAL,EAAAzD,OAAA6E,cACApB,EAAAqB,2BAIAA,qBAbA,WAcArB,EAAAW,YAAAC,SAAAZ,EAAA,8BAAAA,EAAAzD,OAAA+E,OAAA,IAAAtB,EAAAzD,OAAAS,YAAA,qBAKAiB,UAnBA,WAoBA+B,EAAAW,YAAAC,SAAAZ,EAAA,uBAAAhD,SAAAgD,EAAAa,OAAAC,MAAA9D,UAAA,iBACAgD,EAAAC,KAAAe,SACAO,MAAA,QACAvB,EAAAwB,QAAAC,MAAAC,KAAA,OAEAH,MAAA,MAAAvB,EAAAC,KAAA0B,QAAA,gBAAA3B,EAAAC,KAAA0B,YAMA9C,WA/BA,SA+BAV,EAAAtB,GACA,IAAA+E,GACAC,UAAA1D,EAAA0D,UACA7E,SAAAmB,EAAAnB,UAEAgD,EAAAW,YAAAC,SAAAZ,EAAA,uBAAA4B,EAAA,iBACA,GAAA5B,EAAAe,IAAAC,QACA,QAAA5C,EAAA,EAAAA,EAAA4B,EAAAE,SAAAgB,OAAA9C,IACAvB,GAAAuB,GACA4B,EAAAE,SAAA4B,OAAA1D,EAAA,QAIAmD,MAAA,MAAAvB,EAAAe,IAAAY,QAAA,gBAAA3B,EAAAe,IAAAY,YAKApC,YAjDA,WAkDA,OAAAS,EAAAtB,eAAA,CAIA,IAAAqD,GACArD,eAAAsB,EAAAtB,eACA1B,SAAAgD,EAAAa,OAAAC,MAAA9D,UAEAgD,EAAAW,YAAAC,SAAAZ,EAAA,oBAAA+B,EAAA,iBACA/B,EAAAe,IAAAC,UACAhB,EAAAE,SAAAuB,KAAAzB,EAAAe,IAAAE,QACAjB,EAAAtB,eAAA,WAVA6C,MAAA,WAeAxE,WAlEA,SAkEAC,EAAAH,GACAmD,EAAAgC,cAAAhF,EAAAH,IAGAmF,cAtEA,SAsEAhF,EAAAH,GACA,IAAAoF,EAAA,uBAAAjF,EAAA,IAAAH,EACAmD,EAAAW,YAAAuB,QAAAlC,EAAAiC,EAAA,kBACA,GAAAjC,EAAAC,KAAAe,QAAA,CACA,IAAAmB,EAAAnC,EAAAC,KAAAgB,OACAgB,EAAAE,EAAAC,OACA9E,EAAA6E,EAAA7E,MACAC,EAAA4E,EAAA5E,OAEA8E,EAAA,EACAC,EAAA,EAEA,IAAAhF,GAAA,aAAAA,EACA+E,EAAAE,SAAAjF,GAEAiE,MAAA,gBAEA,IAAAhE,GAAA,aAAAA,EACA+E,EAAAC,SAAAhF,GAEAgE,MAAA,gBAEA,IAAAiB,EAAA,sDAAAP,EAAA,YACAQ,EAAA,SAAAC,KAAA,QAEAD,EAAA,YAAAD,QACAC,EAAA,YAAAC,KAAA,QAEAD,EAAAE,QAAApF,SAAAkF,EAAAG,UAAArF,SACAkF,EAAA,SAAAlF,OAAAkF,EAAAE,QAAApF,UAEAkF,EAAA,SAAAlF,OAAAkF,EAAAG,UAAArF,UAGA,IAAAsF,EAAAJ,EAAAE,QAAApF,SACAuF,EAAAL,EAAAE,QAAArF,QAEAyF,EAAA,EACAC,EAAA,EAGAC,GAAA,EAWAZ,EAAAC,EACAD,EAAAS,GACAC,EAAAD,EAAAT,EAAAC,EACAU,EAAAF,IAEAG,GAAA,EACAF,EAAAT,EACAU,EAAAX,GAEAA,GAAAC,IACAD,EAAAS,GACAC,EAAAD,EAAAT,EAAAC,GACAO,GACAG,EAAAH,EAAAP,EAAAD,EACAU,EAAAF,GAEAG,EAAAF,EAGAR,EAAAO,IACAG,EAAAH,EAAAP,EAAAD,EACAU,EAAAF,IAKA,IAAA/D,EAAA+D,EAAA,EAAAE,EAAA,EACAG,EAAA,EACAD,IACAC,EAAAJ,EAAA,EAAAE,EAAA,GAGAP,EAAA,YAAAU,IAAA,MAAArE,GACA2D,EAAA,YAAAU,IAAA,OAAAD,OAMAhH,QAjKA,WAkKAuG,EAAA,SAAAW,KAAA,QACAX,EAAA,YAAAW,KAAA,UAIAC,qDC9PAC,EAAAC,QAAA","file":"static/js/4.65fc692f177d5dcfe16b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"thr\"},[_c('div',{staticClass:\"zzmb\",staticStyle:{\"display\":\"none\",\"position\":\"fixed\"},attrs:{\"id\":\"zzmb\"},on:{\"click\":_vm.hideImg}}),_vm._v(\" \"),_c('div',{staticClass:\"divconf\",staticStyle:{\"display\":\"block\",\"position\":\"fixed\",\"z-index\":\"2147483647\"},attrs:{\"id\":\"divconf\"},on:{\"click\":_vm.hideImg}}),_vm._v(\" \"),_c('div',{staticClass:\"ov pl15 pb15 fs14\",staticStyle:{\"padding-top\":\"15px\"}},[_c('div',{staticClass:\"fl\"},[_c('img',{staticClass:\"fl comment-post-picture\",attrs:{\"src\":_vm.thread.userHead}})]),_vm._v(\" \"),_c('div',{staticClass:\"thread_user_head\"},[_vm._v(_vm._s(_vm.thread.userName))])]),_vm._v(\" \"),_c('div',{staticClass:\"ov pl15 pr15\"},_vm._l((_vm.thumbnailurls),function(thumbnailurl,index){return _c('div',{},[_c('div',{staticClass:\"ov pb15 fs14\",on:{\"click\":function($event){_vm.viewSrcImg(_vm.thread.threadId,index)}}},[_c('img',{staticClass:\"fl attach-picture\",attrs:{\"src\":thumbnailurl}})])])})),_vm._v(\" \"),_c('div',{staticClass:\"ov pl15 pb15 fs13 \",staticStyle:{\"color\":\"#3b3937\",\"word-break\":\"break-all\",\"word-wrap\":\"break-word\"}},[_vm._v(_vm._s(_vm.thread.threadContent))]),_vm._v(\" \"),_c('div',{staticClass:\"ov pl15 pb15 fs13 fl\",staticStyle:{\"color\":\"#a6937c\",\"line-height\":\"23px\"}},[_c('img',{staticStyle:{\"width\":\"13px\",\"height\":\"13px\"},attrs:{\"src\":require(\"../../../static/community/icon_time_gray.png\")}}),_vm._v(\" \"+_vm._s(_vm.thread.formattedDateTime)+\"\\n        \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.thread.isThreadOwner == 'true'),expression:\"thread.isThreadOwner == 'true'\"}],staticClass:\"avatar-wrap rel ov fr\"},[_c('div',{staticClass:\"fs13 pr15\",staticStyle:{\"color\":\"#a6937c\",\"text-align\":\"right\",\"line-height\":\"23px\"},on:{\"click\":_vm.delThread}},[_vm._v(\"删除\")])]),_vm._v(\" \"),_c('div',{staticClass:\"pt15 divider\"},[_vm._v(\" \")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_vm._l((_vm.comments),function(comment,i){return _c('div',{staticClass:\"comment-item p15 \"},[_c('div',{staticClass:\"pt15\",staticStyle:{\"width\":\"100%\",\"min-height\":\"100px\",\"float\":\"left\",\"overflow\":\"hidden\"}},[_c('div',{staticClass:\"pb15 fs14 fl\",staticStyle:{\"width\":\"20%\"}},[_c('img',{staticClass:\"fl comment-reply-picture\",attrs:{\"src\":comment.commentUserHead}})]),_vm._v(\" \"),_c('div',{staticClass:\"fl\",staticStyle:{\"width\":\"80%\"}},[_c('div',{staticClass:\"comments_user_name\"},[_vm._v(_vm._s(comment.commentUserName))]),_vm._v(\" \"),_c('div',{staticClass:\"fs13\",staticStyle:{\"color\":\"#3b3937\",\"word-wrap\":\"break-word\",\"overflow\":\"hidden\"}},[_vm._v(_vm._s(comment.commentContent))]),_vm._v(\" \"),_c('div',{staticClass:\"fl15 fs12 pt15 fl\",staticStyle:{\"color\":\"#888\"}},[_c('img',{staticStyle:{\"width\":\"12px\"},attrs:{\"src\":require(\"../../../static/community/icon_time_gray.png\")}}),_vm._v(\" \"+_vm._s(comment.fmtCommentDateTime))]),_vm._v(\" \"),_c('div',{staticClass:\"pt15 fs12\",staticStyle:{\"color\":\"#a6937c\"}},[_c('div',{staticClass:\"fr\",attrs:{\"ms-visible\":\"comment.isCommentOwner == 'true'\"}},[_c('div',{staticClass:\"fs12 pr15\",staticStyle:{\"color\":\"grey\",\"text-align\":\"right\"},on:{\"click\":function($event){_vm.delComment(comment,i)}}},[_vm._v(\"删除\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"fl\"},[_vm._v(\" \")])]),_vm._v(\" \"),_c('div',{staticClass:\"comment-lite-dividers fl\",staticStyle:{\"width\":\"100%\"}},[_vm._v(\" \")])])])}),_vm._v(\" \"),_c('div',{staticClass:\"fl\",staticStyle:{\"top\":\"10px\",\"background-color\":\"white\",\"width\":\"98%\",\"text-align\":\"center\",\"border\":\"1px\",\"margin-left\":\"2%\"},attrs:{\"id\":\"input\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.commentContent),expression:\"commentContent\"}],staticClass:\"comment_input inner-input \",attrs:{\"name\":\"comment_content\",\"placeholder\":\"回复\"},domProps:{\"value\":(_vm.commentContent)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.commentContent=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"submit-btn ov fs14 fl\",staticStyle:{\"width\":\"20%\",\"color\":\"white\"},on:{\"click\":_vm.saveComment}},[_vm._v(\"发送\")])])],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comments_title comment-lite-divider\",attrs:{\"id\":\"total_comments\"}},[_c('div',{staticClass:\"fl\",staticStyle:{\"line-height\":\"15px\",\"color\":\"#888\",\"font-size\":\"14px\"}},[_vm._v(\"评论\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d267f6d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/communities/threadDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d267f6d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./threadDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./threadDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./threadDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d267f6d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./threadDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7d267f6d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/communities/threadDetail.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"thr\">\r\n         <div id=\"zzmb\" class=\"zzmb\" style=\"display:none;position:fixed;\" @click=\"hideImg\"></div>\r\n        <div id=\"divconf\" class=\"divconf\" style=\"display:block; position:fixed; z-index: 2147483647;\" @click=\"hideImg\"></div>\r\n\r\n        <div style=\"padding-top: 15px\" class=\"ov pl15 pb15 fs14\">\r\n            <div class=\"fl\">\r\n                <img class=\"fl comment-post-picture\" :src=\"thread.userHead\" />\r\n            </div>\r\n            <div class=\"thread_user_head\">{{thread.userName}}</div>\r\n        </div>\r\n\r\n        <!-- 如果有图片 -->\r\n        <div class=\"ov pl15 pr15\">\r\n            <div class=\"\" v-for=\"(thumbnailurl,index) in thumbnailurls\" >\r\n                <div class=\"ov pb15 fs14\" @click=\"viewSrcImg(thread.threadId,index)\">\r\n                    <img class=\"fl attach-picture\" :src=\"thumbnailurl\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- 如果有图片 -->\r\n\r\n        <div class=\"ov pl15 pb15 fs13 \" style=\"color: #3b3937; word-break:break-all;word-wrap:break-word;\">{{thread.threadContent}}</div>\r\n\r\n        <div class=\"ov pl15 pb15 fs13 fl\" style=\"color: #a6937c; line-height: 23px\">\r\n            <img style=\"width: 13px; height: 13px;\" src=\"../../../static/community/icon_time_gray.png\"/>&nbsp;{{thread.formattedDateTime}}\r\n        </div>\r\n\r\n        <div class=\"avatar-wrap rel ov fr\" v-show=\"thread.isThreadOwner == 'true'\">\r\n\t\t    <div class=\"fs13 pr15\" style=\"color: #a6937c; text-align: right; line-height: 23px\" @click=\"delThread\">删除</div>\r\n\t    </div>\r\n        \r\n        <div class=\"pt15 divider\">&nbsp;</div>\r\n        <div id=\"total_comments\" class=\"comments_title comment-lite-divider\">\r\n            <div class=\"fl\" style=\"line-height: 15px; color: #888; font-size: 14px;\">评论</div>\r\n            <!-- <div class=\"fr\" style=\"line-height: 15px; color: #888\"\">共{{thread.commentsCount}}条 > </div> -->\r\n        </div>\r\n\r\n        <div class=\"comment-item p15 \" v-for=\"(comment,i) in comments\" >\r\n            <div style=\"width: 100%; min-height: 100px; float: left; overflow: hidden;\" class=\"pt15\" >\r\n                <div class=\"pb15 fs14 fl\" style=\"width: 20%;\">\r\n                    <img class=\"fl comment-reply-picture\" :src=\"comment.commentUserHead\" />\r\n                </div>\r\n                <div style=\"width: 80%\" class=\"fl\">\r\n                    <div class=\"comments_user_name\" >{{comment.commentUserName}}</div>\r\n                    <div style=\"color: #3b3937; word-wrap:break-word;overflow:hidden;\" class=\"fs13\">{{comment.commentContent}}</div>\r\n                    <div style=\"color: #888;\" class=\"fl15 fs12 pt15 fl\"><img style=\"width: 12px; \" src=\"../../../static/community/icon_time_gray.png\"/>&nbsp;{{comment.fmtCommentDateTime}}</div>\r\n                    <div class=\"pt15 fs12\" style=\"color: #a6937c; \">\r\n                        <div class=\"fr\" ms-visible=\"comment.isCommentOwner == 'true'\">\r\n                            <div class=\"fs12 pr15\" style=\"color: grey; text-align:right\"  @click=\"delComment(comment,i)\">删除</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"fl\">&nbsp;</div>\r\n                </div>\r\n                <div style=\"width: 100%;\" class=\"comment-lite-dividers fl\">&nbsp;</div>\r\n            </div>\r\n\t    </div>\r\n\r\n        <div id=\"input\" class=\"fl\" style=\"top:10px; background-color: white; width: 98%; text-align: center; border:1px;margin-left:2%;\"  >\r\n                <textarea name=\"comment_content\" class=\"comment_input inner-input \"  placeholder=\"回复\" v-model=\"commentContent\"></textarea>\t\r\n                <div class=\"submit-btn ov fs14 fl\" @click=\"saveComment\" style=\"width:20%; color: white;\">发送</div>\r\n        </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nlet vm;\r\nexport default {\r\n   data () {\r\n       return {\r\n           thread:{},\r\n           comments : [],\r\n           comments_count : 0,\r\n           imgUrls: [],\r\n           thumbnailurls: [],\r\n           commentContent : '',\r\n       };\r\n   },\r\n   created() {\r\n       vm=this;\r\n   },\r\n   mounted() {\r\n       vm.getThread();\r\n   },\r\n\r\n   components: {},\r\n\r\n   methods: {\r\n       getThread() {\r\n           vm.receiveData.postData(vm,\"thread/getThreadByThreadId\",{threadId:vm.$route.query.threadId},'res',function(){\r\n               if(vm.res.success) {\r\n                    vm.thread=vm.res.result;\r\n                    vm.comments = vm.thread.comments;\r\n                    vm.comments_count = vm.comments.length;\r\n                    vm.imgUrls =vm.thread.imgUrlLink;\r\n                    vm.thumbnailurls = vm.thread.thumbnailLink;\r\n                    vm.updateUnreadComments()\r\n               } \r\n                  })\r\n       },\r\n       updateUnreadComments() {\r\n           vm.receiveData.postData(vm,\"thread/updateUnreadComment/\"+vm.thread.userId+\"/\"+vm.thread.threadId,{},'res',function(){\r\n              \r\n            })\r\n       },\r\n       //删除\r\n       delThread() {\r\n           vm.receiveData.postData(vm,\"thread/deleteThread\",{threadId:vm.$route.query.threadId},'res',function(){\r\n                if(vm.data.success) {\r\n                   alert('删除成功');\r\n                      vm.$router.push({path:'/'})\r\n               }else {\r\n                    alert(vm.data.message==null?\"发布信息保存失败，请重试！\":vm.data.message);\r\n                } \r\n            })\r\n\r\n       },\r\n       //删除回复\r\n       delComment(comment,index) {\r\n           var ad={\r\n               commentId : comment.commentId,\r\n\t\t\t   threadId: comment.threadId\r\n           }\r\n           vm.receiveData.postData(vm,\"thread/deleteComment\",ad,'res',function(){\r\n                if(vm.res.success) {\r\n                        for(var i=0;i<vm.comments.length;i++) {\r\n                            if(index== i) {\r\n                                vm.comments.splice(i,1)\r\n                            }\r\n                        }\r\n                }else {\r\n                    alert(vm.res.message==null?\"发布信息保存失败，请重试！\":vm.res.message);\r\n                }   \r\n                  })\r\n       },\r\n    //    点击发送\r\n       saveComment() {\r\n            if(vm.commentContent== '') {\r\n                alert('回复不能为空')\r\n                return;\r\n            }\r\n            var ads={\r\n                commentContent : vm.commentContent,\r\n\t\t\t\tthreadId : vm.$route.query.threadId\r\n            }\r\n             vm.receiveData.postData(vm,\"thread/addComment\",ads,'res',function(){\r\n                 if(vm.res.success) {\r\n                    vm.comments.push(vm.res.result);\r\n                    vm.commentContent=\"\";\r\n                 }    \r\n                  })\r\n       },\r\n       //有图片 点击图片\r\n       viewSrcImg(threadId, index) {\r\n           vm.refreshImages(threadId, index);\r\n       },\r\n\r\n          refreshImages(threadId, index) {\r\n            let url=\"thread/getImgDetail/\"+threadId+\"/\"+index;\r\n        vm.receiveData.getData(vm,url,'data',function(){\r\n                if(vm.data.success) {\r\n                var map = vm.data.result;\r\n                var url = map.imgUrl;\r\n                var width = map.width;\r\n                var height = map.height;\r\n                \r\n                var srcWidth = 0;\r\n                var srcHeight = 0;\r\n\r\n                if(\"\"!=width&&\"undefined\"!=width){\r\n\t\t\t\t    srcWidth = parseInt(width);\r\n                }else{\r\n                    alert(\"请检查图片是否上传成功。\");\r\n                }\r\n                if(\"\"!=height&&\"undefined\"!=height){\r\n\t\t\t\t    srcHeight = parseInt(height);\r\n                }else{\r\n                    alert(\"请检查图片是否上传成功。\");\r\n                }\r\n                var html = \"<div id=\\\"imgDetail\\\" style=\\\"align:center\\\"><img src=\\\"\"+url+\"\\\"/></div>\";\r\n                $(\"#zzmb\").show(\"slow\");\r\n                \r\n                $(\"#divconf\").html(html);\r\n                $(\"#divconf\").show(\"slow\");\r\n                \r\n                if($(window).height()>$(document).height()){\r\n        \t\t    $(\".zzmb\").height($(window).height());\r\n                }else{\r\n                    $(\".zzmb\").height($(document).height());\r\n                }\r\n\r\n                var screenHeight = $(window).height();\r\n                var screenWidth = $(window).width();\r\n                \r\n                var adjHeight = 0;\t//缩放调整后图片高度\r\n                var adjWidth = 0;\t//缩放调整后图片宽度\r\n                \r\n                var top = 0;\r\n                var hasLeft = false;\r\n\r\n                /*\r\n        \t * 图片展示一共三种情况\r\n        \t * 1.横图，即图片宽度>图片高度，则宽度取100%，高度等比缩放\r\n        \t * 2.纵图，即图片宽度<=图片高度，这其中又分2种情况\r\n        \t * 1)图片横向宽度撑满后（即宽取屏幕宽度），高度等比缩放后>屏幕高度的\r\n        \t * 2)图片横向宽度撑满后，高度等比缩放后<=屏幕高度的\r\n        \t */\r\n\r\n              //情况1，横图\r\n        \tif(srcWidth>srcHeight){\r\n        \t\tif(srcWidth>screenWidth){\r\n        \t\t\tadjHeight = screenWidth/srcWidth*srcHeight;\r\n        \t\t\tadjWidth = screenWidth;\r\n        \t\t}else{\r\n        \t\t\thasLeft = true;\r\n        \t\t\tadjHeight = srcHeight;\r\n        \t\t\tadjWidth = srcWidth;\r\n        \t\t}\r\n        \t}else if(srcWidth<=srcHeight){\r\n        \t\tif(srcWidth>screenWidth){\r\n        \t\t\tadjHeight = screenWidth/srcWidth*srcHeight;\r\n        \t\t\tif(adjHeight>screenHeight){\r\n        \t\t\t\tadjWidth = screenHeight/srcHeight*srcWidth;\r\n        \t\t\t\tadjHeight = screenHeight\r\n        \t\t\t}else{\r\n        \t\t\t\tadjWidth = screenWidth;\r\n        \t\t\t}\r\n        \t\t}else{\r\n        \t\t\tif(srcHeight>screenHeight){\r\n        \t\t\t\tadjWidth = screenHeight/srcHeight*srcWidth;\r\n        \t\t\t\tadjHeight = screenHeight\r\n        \t\t\t}\r\n        \t\t}\r\n            }\r\n            \r\n            var top = screenHeight/2 - adjHeight/2;\r\n        \tvar left = 0;\r\n        \tif(hasLeft){\r\n        \t\tleft = screenWidth/2 - adjWidth/2;\r\n        \t}\r\n\r\n        \t$(\"#divconf\").css(\"top\", top);\r\n        \t$(\"#divconf\").css(\"left\", left);\r\n           \r\n           }\r\n\t\t})\r\n        },\r\n       //隐藏图片\r\n       hideImg() {\r\n             $(\"#zzmb\").hide(\"slow\");\r\n        \t $(\"#divconf\").hide(\"slow\");\r\n       },\r\n   },\r\n\r\n   computed: {},\r\n}\r\n</script>\r\n\r\n<style  scoped>\r\n.thr {\r\n     background-color: #fffff8;\r\n    padding-bottom: 1px;\r\n}\r\n.fs14 {\r\n    font-size: 14px;\r\n}\r\n.pl15 {\r\n    padding-left: 15px;\r\n}\r\n\r\n.pb15 {\r\n    padding-bottom: 15px;\r\n}\r\n.ov {\r\n    overflow: hidden;\r\n    /* padding: 1px; */\r\n}\r\n.comment-post-picture {\r\n    width: 42px;\r\n    height: 42px;\r\n    margin-right: 15px;\r\n    border: 1px solid #d4cfc8;\r\n    border-radius: 42px;\r\n}\r\n.thread_user_head {\r\n    float: left;\r\n    margin-top: 10.5px;\r\n    font-size: 14px;\r\n    color: #393b37;\r\n}\r\n.pr15 {\r\n    padding-right: 15px;\r\n}\r\n.fs13 {\r\n    font-size: 13px;\r\n}\r\n.rel {\r\n    position: relative;\r\n}\r\n.divider {\r\n    border-bottom: 5px solid #f9f9e9;\r\n}\r\n.comments_title {\r\n    margin: 15px 4% 0px 4%;\r\n    height: 15px;\r\n}\r\n.comment-lite-divider {\r\n    border-bottom: 1px solid #d4cfc8;\r\n    /* margin-left: 20%; */\r\n}\r\n/* 回复 */\r\n.p15 {\r\n    padding: 15px;\r\n    font-size: 13px;\r\n}\r\n.pt15 {\r\n    padding-top: 15px;\r\n}\r\n.comment-reply-picture {\r\n    width: 35px;\r\n    height: 35px;\r\n    margin-right: 15px;\r\n    border: 1px solid #d4cfc8;\r\n    border-radius: 35px;\r\n}\r\n.comments_user_name {\r\n    font-size: 14px;\r\n    color: #3b3937;\r\n    margin: 5px 0px 15px 0px;\r\n}\r\n.comment-lite-dividers {\r\n    border-bottom: 1px solid #d4cfc8;\r\n    margin-left: 20%;\r\n}\r\n/* input */\r\n.comment_input {\r\n    text-align: left;\r\n    float: left;\r\n    overflow: hidden;\r\n    width: 70%;\r\n}\r\n.inner-input {\r\n    display: block;\r\n    height: 35px;\r\n    /* width: 90%; */\r\n    outline: none;\r\n    border: 1px solid #d4cfc8;\r\n    border-radius: 4px;\r\n    padding: 0 10px;\r\n    vertical-align: middle;\r\n    font-size: 15px;\r\n    line-height: 35px;\r\n}\r\n.submit-btn {\r\n    height: 35px;\r\n    margin-left: 1%;\r\n    line-height: 35px;\r\n    background: #ff8a00;\r\n    text-align: center;\r\n}\r\n.zzmb {\r\n    z-index: 100000;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    -moz-opacity: 0.65;\r\n    opacity: 0.65;\r\n    filter: alpha(opacity=65);\r\n    background: #000;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: block;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/communities/threadDetail.vue","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA35pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozYzliOWY4Zi0zYzE1LTM4NGYtYjcwOS0zZGNiNjY5YzA1MjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkFBNDI4RUQ1MzMwMTFFNUEwNENFQzBENTYxODA0MjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkFBNDI4RUM1MzMwMTFFNUEwNENFQzBENTYxODA0MjEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjY5MzZFOEVFNDcyMDY4MTE4MjJBQ0UwNEM1NUNCQjZBIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MDQzMzM1OTgtMjM4MC0xMWU1LThjMTAtYmU2YTYwOGU2OGQyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+UqIDaQAAAk1JREFUeNqslluITVEcxtdswovGg/AyD5rIuJQ5aCYSMw8iSUoZtxdywjwyLyMRuZS8mJichocpl6HGg0JRE0WY8KLj/uqS23iX4/fpG22nfebsM86/fq1ae63vW3v9/3utXVMoFIIil8uFhKiHjdACDTDF/Z8hDwNwGd5ms9mk+SEKySHhfngDh6ERXkGfeek+PXsN11hgfVqDbfAc1sFVWA6T/RabTYv7lsEVWKs5mGwvZ9AJ5+A9LIENcBd+JSxEffegDRZ7Tg8m+0sZaOVH4DEsggchfTyEhZ57CJMd/xjQMYPmNLyDVfCthNB9b9+Y4gck+TvNSiUcuqz59w1OwHjYMoJ48FbMgYlJD22yCcbByT8GOM1ykvr8qv8VmAy6dNeg3RC5zhWnQvWiy21b5JL7Uo3VFyVdmq0ymAdPoVAtdbZJWk9grgwmwYdQ/fgo7WiUkxekHSiDIZiWcny/2ztwCepGGCvNIRm8gPkpDdaDzpuvPiJ0AB6ACQljpZmPfOROhaYUBkreeZgJZy18EHrjg6j/ZmsOyOCC+9sryIG+9p1e1G1XYTx2u70YUVK6OG75GM5UmGx9tSvgeGz1GWvdlPZwFe2Bn3KE2tHWJeK11pDWXvXVxK7MXTRnfGKuhh8V6kv8OizVFrH67uL7QB1HfdE8qnC7Mp4j8WPD4kk32j4naLr3t7dMdTV5zKDnaOWd8QFjEyZ1u3R1nm81n+CZ2+ASbHSruAEdLphQziD4r0F5mO0LpBWafW4Ff/36QHuc1Hyp35bfAgwA6aSjO5PCY2YAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/community/icon_time_gray.png\n// module id = bEno\n// module chunks = 1 4"],"sourceRoot":""}