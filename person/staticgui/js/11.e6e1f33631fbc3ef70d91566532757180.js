webpackJsonp([11],{DTTG:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("bCVF"),a=s.n(i),r=s("6ZnO"),o=s.n(r),n=s("UOIW"),c=s.n(n),l=s("wrtZ"),p=s.n(l),m=s("gNY8"),v=s.n(m),u=s("Z6jr"),d=s.n(u),f=s("mqp8"),h=s.n(f),_=s("fxnj"),g=s.n(_),y=s("Au9i"),C=void 0,w={data:function(){return{item:{},typeName:"",typeImg:"",imgUrlList:[],commentImgUrlList:[],payTypeName:"现金支付",oTel:"#",typeConfig:{1:["浴室维修",a.a],2:["厨房维修",o.a],3:["客厅卧室维修",c.a],4:["强弱电维修",p.a],5:["门窗维修",v.a],6:["其它维修",d.a],7:["家电",h.a]}}},created:function(){C=this},mounted:function(){var t=location.href.split("#")[0];C.receiveData.wxconfig(C,g.a,["previewImage"],t),C.queryOrder()},methods:{queryOrder:function(){C.receiveData.getData(C,"operator/repair/query/repairId/"+C.$route.query.ordersID,"res",function(){if(C.res.success){var t=C.res.result;C.typeName=C.typeConfig[t.repairType][0],C.typeImg=C.typeConfig[t.repairType][1],C.imgUrlList=t.imgUrlList,C.commentImgUrlList=t.commentImgUrlList,C.item=t}else 9999==C.res.errorCode?(alert(C.res.message),C.$router.push({path:"/operatorOrders"})):alert("获取维修信息失败，请去维修记录中查看！")})},showPhoto:function(t){g.a.previewImage({current:C.imgUrlList[t],urls:C.imgUrlList})},accept:function(){y.MessageBox.confirm("确定要抢下该单吗？").then(function(t){"confirm"==t&&C.receiveData.getData(C,"operator/accept/"+C.item.id,"res",function(){C.res.success?C.$router.push({path:"/operatorRepairSuccess",query:{ordersID:C.$route.query.ordersID}}):alert("系统异常，请稍后重试！")})}).catch(function(t){})},finish:function(){C.receiveData.getData(C,"operator/repair/finish/"+C.item.id,"res",function(){C.res.success?C.$router.push({path:"/operatorRepairSuccess",query:{ordersID:C.$route.query.ordersID}}):alert("系统异常，请稍后重试！")})},deleteOrder:function(){y.MessageBox.confirm("确定要删除该订单吗？").then(function(t){"confirm"==t&&C.receiveData.getData(C,"operator/repair/delete/"+C.item.id,"res",function(){C.res.success?C.$router.push({path:"/operatorOrders"}):alert("系统异常，请稍后重试！")})}).catch(function(t){})}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"operorder"},[s("div",{staticClass:"ov top-title pr15"},[s("img",{staticClass:"icon-repair fl",attrs:{src:t.typeImg}}),t._v(" "),s("div",{staticClass:"ov ptb15"},[s("span",{staticClass:"fl fs15",staticStyle:{color:"#000"}},[t._v(t._s(t.typeName))]),t._v(" "),s("span",{staticClass:"fr fs12",staticStyle:{color:"#999"}},[s("i",{staticClass:"icon time-icon"}),t._v(t._s(t.item.time))])]),t._v(" "),s("div",{staticClass:"comment ov pb15"},[s("span",{staticClass:"fl fs15",staticStyle:{"font-size":"16px",color:"#666"}},[t._v(t._s(t.item.projectName))]),t._v(" "),s("span",{staticClass:"fr fs12 status-font"},[t._v(t._s(t.item.statusStr))])])]),t._v(" "),s("div",{staticStyle:{background:"white"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.imgUrlList.length>0,expression:"imgUrlList.length>0"}],staticClass:"photo_area"},t._l(t.imgUrlList,function(e,i){return s("div",{staticClass:"photo_wrap a_third_m20_height",on:{click:function(e){t.showPhoto(i)}}},[s("img",{staticClass:"photo a_third_m22_height",attrs:{src:e}})])}),0),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.item.memo,expression:"item.memo!=''"}],staticClass:"top-info"},[s("div",{staticClass:"item",staticStyle:{"padding-left":"15px"}},[s("span",{staticClass:"value",domProps:{innerHTML:t._s(t.item.memo)}})])])]),t._v(" "),s("div",{staticStyle:{background:"white",padding:"0 15px",margin:"15px 0"}},[s("div",{staticClass:"lite-divider detail-title fs14"},[t._v("\n                        报修人信息\n                    ")]),t._v(" "),s("div",{staticClass:"top-info"},[s("div",{staticClass:"item lite-divider pl0",staticStyle:{"padding-bottom":"15px"}},[s("p",{staticClass:"value2",staticStyle:{"font-size":"16px"}},[t._v(t._s(t.item.receiverName)),s("span",{staticStyle:{"padding-left":"20px"}},[t._v(t._s(t.item.tel))])]),t._v(" "),s("p",{staticClass:"value",staticStyle:{"padding-top":"5px"}},[t._v(t._s(t.item.address))])]),t._v(" "),s("div",{staticClass:"bottomLine",staticStyle:{color:"#3b3937"}},[s("span",{staticClass:"custom-menu-link lite-dividers"},[s("p",{staticClass:"value2"},[t._v("所在小区"),s("span",{staticStyle:{float:"right","padding-right":"10px"}},[t._v(t._s(t.item.xiaoquName))])])]),t._v(" "),s("span",{staticClass:"custom-menu-link"},[s("p",{staticClass:"value2"},[t._v("预约上门时间"),s("span",{staticStyle:{float:"right","padding-right":"10px",color:"#ff8a00"}},[t._v(t._s(t.item.requireDateStr))])])])])])]),t._v(" "),s("div",{staticStyle:{width:"100%",height:"15px"}}),t._v(" "),s("div",{staticClass:"btn-fixed"},[s("a",{directives:[{name:"show",rawName:"v-show",value:1==t.item.opStatus,expression:"item.opStatus==1"}],staticClass:"btn",attrs:{href:"#"},on:{click:t.accept}},[t._v("我要抢单")]),t._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:2==t.item.opStatus,expression:"item.opStatus==2"}],staticClass:"btn",attrs:{href:"#"},on:{click:t.finish}},[t._v("我已完工")]),t._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:3==t.item.opStatus,expression:"item.opStatus==3"}],staticClass:"btn",attrs:{href:"#"},on:{click:t.deleteOrder}},[t._v("删除")])])])},staticRenderFns:[]};var x=s("VU/8")(w,S,!1,function(t){s("opGr")},"data-v-068610bb",null);e.default=x.exports},opGr:function(t,e){}});